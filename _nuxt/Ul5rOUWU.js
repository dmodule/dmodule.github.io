import{r as u,bb as I,b3 as _,b7 as A,b8 as y}from"./CJ_CGJpm.js";import{a as c}from"./CvURW2WX.js";const B=()=>{var e=new Date().getTime(),t="yxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var s=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(a=="x"?s:s&3|8).toString(16)});return t},H=(e,t)=>{let a;return function(){clearTimeout(a),a=setTimeout(()=>e.apply(this,arguments),t)}},J=e=>JSON.parse(JSON.stringify(e)),E=e=>e&&typeof e=="object"&&Object.keys(e).length!==0&&!Array.isArray(e),D=e=>e!==null&&Array.isArray(e)&&e.length>0&&!e.every(t=>!E(t)),j=(e,t=!1)=>{if(!e)return"";let s=e.split(/(?=[A-Z])/).map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ");return t?s.toLowerCase():s},K=e=>{const t=e.replace(/([a-z])([A-Z])/g,"$1 $2");return t.charAt(0).toUpperCase()+t.slice(1)},U=e=>e?String(e||"").replace(/(\d)(?=(\d{3})+\b)/g,"$1,"):0,M=(e,t=2,a=!0)=>{if(!e)return a?"0.00":0;if(typeof e=="number"){const n=e.toFixed(t).replace(/\B(?=(\d{3})+(?!\d))/g,",");return a?n:parseFloat(n.replace(/,/g,""))}if(isNaN(e))return e;const s=parseFloat(e.replace(/,/g,""));if(isNaN(s))return a?"0.00":0;const r=s.toFixed(t).replace(/\B(?=(\d{3})+(?!\d))/g,",");return a?r:parseFloat(r.replace(/,/g,""))};console.log(M("1105ATC",1,1));const z=e=>e?parseFloat(String(e).replace(/,/g,"")):0,L=(e,t=!1)=>{if(e===void 0||typeof e!="number"||isNaN(e))return"";const a={b:t?" tỷ":"b",m:t?" triệu":"m",k:t?" ngàn":"k"};return e>=1e9?(e/1e9).toFixed(0)+a.b:e>=1e6?(e/1e6).toFixed(0)+a.m:e>=1e3?(e/1e3).toFixed(0)+a.k:e.toString()},R=async e=>{try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Error fetching data:",t),{}}};function d(e,t=null){const a=u(t);return I(()=>{const s=localStorage.getItem(e);s&&(a.value=JSON.parse(s)),_(a,r=>{r==null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(r))},{deep:!0})}),a}const Z=A("finsc",()=>{const e=d("auth",{}),t=(o={})=>{e.value={...e.value,...o}},a=d("tradingHandle",{}),s=(o={})=>{a.value={...a.value,...o}},r=d("symbol","FPT"),n=o=>{r.value=o||"FPT"},p=y(c().COOKIE_NAME+"_symbols",{default:()=>["FPT","HPG","TCB","MSN","VIC","VND"]}),v=o=>{p.value=[...o]},l=y(c().COOKIE_NAME+"_modules",{maxAge:c().COOKIE_EXPIRES,sameSite:!0,default:()=>[]}),h=o=>{l.value.push(o)},b=o=>{l.value=[...o]},i=u({}),N=o=>{i.value={...i.value,...o}},f=u([]),S=o=>{f.value={...f.value,...o}},g=u({canslim_style:{},canslim_value:{},data2:{},data3:{}});return{auth:e,setAuth:t,tradingHandle:a,setTradingHandle:s,symbol:r,setSymbol:n,syms:p,setSyms:v,modules:l,addModules:h,setModules:b,dataSI:i,setDataSI:N,dataTP:f,setDataTP:S,tutru:g,fetchTutru:async o=>{const x=await $fetch(`${c().API_URI}/tutru?sb=${r.value}`);if(x){const{canslim_style:T,canslim_value:C,data2:F,data3:O}=x;g.value={canslim_style:T[0],canslim_value:C[0],data2:F[0],data3:O[0]}}}}});function w(e){return{all:e=e||new Map,on:function(t,a){var s=e.get(t);s?s.push(a):e.set(t,[a])},off:function(t,a){var s=e.get(t);s&&(a?s.splice(s.indexOf(a)>>>0,1):e.set(t,[]))},emit:function(t,a){var s=e.get(t);s&&s.slice().map(function(r){r(a)}),(s=e.get("*"))&&s.slice().map(function(r){r(t,a)})}}}const m=w();function G(){return{on:m.on,off:m.off,emit:m.emit}}export{B as a,Z as b,G as c,H as d,M as e,U as f,J as g,K as h,E as i,R as j,D as k,L as l,w as m,z as p,j as t,d as u};
