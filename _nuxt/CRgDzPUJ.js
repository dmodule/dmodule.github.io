import{bL as F,bs as n,bq as c,bQ as I,br as s,bu as X,r,a_ as $,bb as Y,ba as K,bU as O,cp as ee,by as o,bz as p,bx as e,bA as U,bW as M,bI as C,bB as z,bC as te,bD as N,c1 as D,bP as se,bY as oe,bJ as ne,b$ as le,b_ as ae,cx as ie}from"./B2zngJ72.js";import{b as re,u as q,g as ce}from"./CEPNV0NR.js";import{e as g}from"./BhKXCFn3.js";import me from"./CMwWYpbR.js";import de from"./CLGloTph.js";import ue from"./DllHdNkt.js";import _e from"./CHMcncmP.js";import pe from"./Co8vLFgL.js";import{u as fe}from"./CJ2HXv4E.js";import"./2DHyWFFj.js";import"./BLVB0qGI.js";import"./DdDBkiWh.js";import"./C_xVrS54.js";import"./tWTntGxj.js";import"./CXaQVNdb.js";import"./DH-5LqSd.js";import"./DxqHYnwt.js";import"./B5J8M9Gg.js";import"./Ck1mNK7n.js";import"./CpHGb9j-.js";import"./-Pa_sf8E.js";import"./Cr9UJJ4t.js";const be={props:{scale:{type:Number,default:1}},computed:{width(){return 360*this.scale}}};function xe(w,f,b,u,_,x){return n(),c("div",{class:"flex-none relative flex justify-center",style:I({width:x.width+"px"})},[(n(),c("svg",{class:"text-base-bg-300 absolute inset-0 origin-top-left",style:I({transform:`scale(${b.scale})`}),width:"360",height:"48",viewBox:"0 0 360 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},f[0]||(f[0]=[s("path",{d:"M357.237 2.82376e-05C398.658 2.82376e-05 -39.9387 -3.52971e-05 2.95743 2.82376e-05C45.8536 9.17724e-05 66.301 48 115.04 48H251.002C304.338 48 315.815 2.82376e-05 357.237 2.82376e-05Z",fill:"currentColor"},null,-1)]),4)),X(w.$slots,"default")],4)}const ve=F(be,[["render",xe]]),he={class:"rounded-finsc overflow-hidden h-full w-full text-base bg-base-300 flex flex-col justify-between"},ye={class:"flex justify-between items-start relative z-10"},ge={class:"max-w-[calc(50%-155px)] flex-1 flex items-center p-1"},we={class:"text-sm bg-base-300"},Se={class:"p-3"},Ce={class:"w-full overflow-hidden -mr-6"},Te=["onClick"],Ve={class:"bg-white/5 rounded-full relative flex items-center text-center py-1 gap-0 divide-x divide-dashed divide-base-neutral"},ke={class:"px-3 flex items-center"},Pe={class:"px-3 flex items-center"},Be={class:"max-w-[calc(50%-155px)] flex-1 p-2 ml-2"},Ie={key:0,class:"flex items-center"},$e={class:"flex-1 sm:flex max-h-[calc(100%-41px)]"},Ue={class:"flex-1 h-96 sm:h-auto"},Me={class:"flex-none flex flex-col w-full sm:max-w-64"},ze={class:"flex-none h-56 mb-2"},Ne={class:"flex-1 overflow-hidden max-h-full relative"},De={__name:"BoxTV",setup(w){const f=["FPT","HPG","TCB","MSN","VIC","MWG","VNM","VND","DGC","DPM","BSR"],{emit:b}=fe(),u=r(1),_=r(""),x=r(null),v=r(!1),S=re(),m=$(()=>S.syms),J=$(()=>f.filter(t=>!m.value.includes(t))),T=q("auth",{}),l=q("symbolLocal","FPT"),h=r({}),y=r({}),V=t=>{l.value===t.symbol&&(h.value=t)},k=t=>{l.value===t.symbol&&(y.value=t)},P=t=>{h.value={},y.value={},b("eSymbol",{symbol:t}),l.value=t,x.value.updateSymbol(t),u.value++},L=t=>{m.value.includes(t)||m.value.push(t),S.setSyms(m.value)},G=t=>{const a=m.value.filter(d=>d!==t);S.setSyms(a),u.value++},B=r([]);return Y(async()=>{b("eSymbol",{symbol:l.value}),B.value=await ce("/static/tv/data/symbol.json")}),K(()=>{g.on("eSI",V),g.on("eTP",k)}),O(()=>{g.off("eSI",V),g.off("eTP",k)}),(t,a)=>{const d=oe,R=ne,j=le,E=ae,H=ee("Vue3Marquee"),W=ie,Z=ve;return n(),c("div",he,[s("div",ye,[s("div",ge,[o(E,{popper:{placement:"bottom-start"}},{panel:p(()=>[s("div",we,[s("div",Se,[o(j,{modelValue:e(_),"onUpdate:modelValue":a[0]||(a[0]=i=>U(_)?_.value=i:null),icon:"i-ri-search-line",size:"sm",color:"white",trailing:!1,placeholder:"Search..."},null,8,["modelValue"])]),o(pe,{search:e(_),items:e(B),onChangeSymbol:L},null,8,["search","items"])])]),default:p(()=>[o(R,{popper:{placement:"right"},text:"Thêm mã quan tâm"},{default:p(()=>[s("button",{class:M(["bg-white/5 hover:bg-base-100 rounded-full p-2 flex items-center",{"bg-base-300":e(J).length===0}])},[o(d,{name:"i-ri-add-line",size:"20"})],2)]),_:1})]),_:1}),s("div",Ce,[(n(),C(H,{duration:30,key:e(u)},{default:p(()=>[(n(!0),c(z,null,te(e(m),(i,A)=>(n(),c("div",{key:A,class:M(["rounded-full px-3 py-1 border border-transparent whitespace-nowrap flex items-center mr-3",e(l)===i?"bg-base-100":"border-base-neutral"])},[s("span",{class:"cursor-pointer hover:text-base-primary",onClick:Q=>P(i)},N(i),9,Te),o(d,{name:"i-ri-close-line",size:"16",class:"ml-1 cursor-pointer hover:text-base-secondary",onClick:Q=>G(i)},null,8,["onClick"])],2))),128))]),_:1}))])]),o(Z,{scale:.86},{default:p(()=>[s("div",Ve,[s("div",ke,[a[2]||(a[2]=D(" 65 ")),o(d,{name:"i-ri-wallet-3-line",class:"ml-1"})]),s("div",Pe,[o(W,{modelValue:e(v),"onUpdate:modelValue":a[1]||(a[1]=i=>U(v)?v.value=i:null),size:"xl","on-icon":"i-ri-exchange-dollar-line","off-icon":"i-ri-funds-line",ui:{inactive:"bg-yellow-500",icon:{off:"text-yellow-500"}}},null,8,["modelValue"])])])]),_:1}),s("div",Be,[e(T).name?(n(),c("div",Ie,[o(d,{name:"i-ri-lock-line",class:"bg-base-primary text-xl mx-1"}),D(" Xin chào ! "+N(e(T).name),1)])):se("",!0)])]),s("div",$e,[s("div",Ue,[o(me,{ref_key:"tvChart",ref:x,symbol:e(l),"onUpdate:symbol":P},null,8,["symbol"])]),s("div",Me,[e(v)?(n(),C(de,{key:0,symbol:e(l),dataSI:e(h),dataTP:e(y)},null,8,["symbol","dataSI","dataTP"])):(n(),c(z,{key:1},[s("div",ze,[(n(),C(ue,{key:e(u),local:"",symbol:e(l),dataSI:e(h),dataTP:e(y)},null,8,["symbol","dataSI","dataTP"]))]),s("div",Ne,[o(_e,{symbol:e(l),style:{"border-radius":"0 !important"}},null,8,["symbol"])])],64))])])])}}},lt=F(De,[["__scopeId","data-v-a1ec3d33"]]);export{lt as default};
