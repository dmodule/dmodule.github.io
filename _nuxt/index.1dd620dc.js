function v(t){return{issues:t}}function m(t){return{output:t}}function n(t,e){return{reason:t==null?void 0:t.reason,validation:e.validation,origin:(t==null?void 0:t.origin)||"value",message:e.message,input:e.input,path:e.path,abortEarly:t==null?void 0:t.abortEarly,abortPipeEarly:t==null?void 0:t.abortPipeEarly,skipPipe:t==null?void 0:t.skipPipe}}function w(t,e){return{reason:e,origin:t==null?void 0:t.origin,abortEarly:t==null?void 0:t.abortEarly,abortPipeEarly:t==null?void 0:t.abortPipeEarly,skipPipe:t==null?void 0:t.skipPipe}}function I(t,e,a,b){if(!e||!e.length||a!=null&&a.skipPipe)return m(t);let u,s,p=t;for(const y of e){const c=y(p);if(c.issues){u=u||w(a,b);for(const r of c.issues){const l=n(u,r);s?s.push(l):s=[l]}if(u.abortEarly||u.abortPipeEarly)break}else p=c.output}return s?v(s):m(p)}async function x(t,e,a,b){if(!e||!e.length||a!=null&&a.skipPipe)return m(t);let u,s,p=t;for(const y of e){const c=await y(p);if(c.issues){u=u||w(a,b);for(const r of c.issues){const l=n(u,r);s?s.push(l):s=[l]}if(u.abortEarly||u.abortPipeEarly)break}else p=c.output}return s?v(s):m(p)}function A(t,e){return Array.isArray(t)?[void 0,t]:[t,e]}function _(t){return typeof t=="function"?t():t}function k(t,e,a){return v([{validation:t,message:_(e),input:a}])}function z(t,e,a){if(!t||typeof t=="object"&&!Array.isArray(t)){const[s,p]=A(e,a);return[t,s,p]}const[b,u]=A(t,e);return[void 0,b,u]}function j(t,e,a,b,u,s){return{issues:[{reason:e,validation:a,origin:(t==null?void 0:t.origin)||"value",message:_(b),input:u,issues:s,abortEarly:t==null?void 0:t.abortEarly,abortPipeEarly:t==null?void 0:t.abortPipeEarly,skipPipe:t==null?void 0:t.skipPipe}]}}function D(t,e,a){const[b,u]=A(e,a);return{type:"array",item:t,async:!1,_parse(s,p){if(!Array.isArray(s))return j(p,"type","array",b||"Invalid type",s);let y;const c=[];for(let r=0;r<s.length;r++){const l=s[r],g=t._parse(l,p);if(g.issues){const h={type:"array",input:s,key:r,value:l};for(const E of g.issues)E.path?E.path.unshift(h):E.path=[h],y==null||y.push(E);if(y||(y=g.issues),p!=null&&p.abortEarly)break}else c.push(g.output)}return y?v(y):I(c,u,p,"array")}}}function L(t,e,a,b){const[u,s,p]=z(e,a,b);let y;return{type:"object",entries:t,rest:u,async:!0,async _parse(c,r){if(!c||typeof c!="object")return j(r,"type","object",s||"Invalid type",c);y=y||Object.entries(t);let l;const g={};return await Promise.all([Promise.all(y.map(async([h,E])=>{if(!(r!=null&&r.abortEarly&&l)){const P=c[h],i=await E._parse(P,r);if(!(r!=null&&r.abortEarly&&l))if(i.issues){const o={type:"object",input:c,key:h,value:P};for(const d of i.issues)d.path?d.path.unshift(o):d.path=[o],l==null||l.push(d);if(l||(l=i.issues),r!=null&&r.abortEarly)throw null}else(i.output!==void 0||h in c)&&(g[h]=i.output)}})),u&&Promise.all(Object.entries(c).map(async([h,E])=>{if(!(r!=null&&r.abortEarly&&l)&&!(h in t)){const P=await u._parse(E,r);if(!(r!=null&&r.abortEarly&&l))if(P.issues){const i={type:"object",input:c,key:h,value:E};for(const o of P.issues)o.path?o.path.unshift(i):o.path=[i],l==null||l.push(o);if(l||(l=P.issues),r!=null&&r.abortEarly)throw null}else g[h]=P.output}}))]).catch(()=>null),l?v(l):x(g,p,r,"object")}}}function M(t,e){const[a,b]=A(t,e);return{type:"string",async:!1,_parse(u,s){return typeof u!="string"?j(s,"type","string",a||"Invalid type",u):I(u,b,s,"string")}}}var O=/^[\w+-]+(?:\.[\w+-]+)*@[\da-z]+(?:[.-][\da-z]+)*\.[a-z]{2,}$/iu;function R(t){return e=>O.test(e)?m(e):k("email",t||"Invalid email",e)}function G(t,e){return a=>a.length<t?k("min_length",e||"Invalid length",a):m(a)}export{D as a,R as e,G as m,L as o,M as s};
