import{bQ as T,bs as s,bq as n,bN as b,br as e,bC as r,r as V,a_ as w,bV as I,bx as p,bA as m,bB as _,bU as P,bw as a,bH as f,bM as v,by as D,bW as U,cm as Z}from"./D-GaXO5H.js";import{_ as j}from"./BJHzdlzf.js";import{u as F,w as E,a as Q}from"./CHuXXF4J.js";import{u as z}from"./-Pa_sf8E.js";import{n as R}from"./CDm2gSvM.js";import q from"./DJ0k80ms.js";import{u as G}from"./BfyBktTo.js";import{a as S}from"./DilLFIVp.js";import"./BHKXCVly.js";import"./DxqHYnwt.js";import"./DdDBkiWh.js";import"./BLVB0qGI.js";const K={props:{text:{type:String,default:""},textSize:{type:String,default:"1.2rem"},scale:{type:Number,default:1}},computed:{width(){return 312*this.scale}}};function W(h,l,c,i,u,x){return s(),n("div",{class:"flex-none relative",style:b({width:x.width+"px"})},[(s(),n("svg",{class:"absolute inset-0 origin-top-left",style:b({transform:`scale(${c.scale})`}),width:"312",height:"64",viewBox:"0 0 312 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l[0]||(l[0]=[e("path",{d:"M1.33424 0.496144C-15.7495 0.496127 135.084 0.281542 232.662 0.134622C277.363 0.0581436 310.555 0 310.555 0C312.71 0 312.396 0.00314724 310.004 0.00894038C283.589 0.872455 290.334 64 255.605 64H57.7832C25.1193 64 27.3108 0.496171 1.33424 0.496144Z",fill:"currentColor"},null,-1)]),4)),e("div",{class:"relative text-white text-center font-semibold py-1 w-24 mx-auto",style:b({"font-size":c.textSize})},r(c.text),5)],4)}const J=T(K,[["render",W]]),O={class:"rounded-finsc overflow-hidden flex flex-col h-full w-full text-sm bg-base-300"},X={class:"flex justify-center mb-2"},ee={class:"w-full flex gap-2 justify-center overflow-hidden pt-2 pr-4"},te=["onClick"],se={class:"m-3 flex-1 overflow-auto space-y-3"},ne={key:0,class:"table text-sm text-center table-pin-rows table-pin-cols"},oe={colspan:"4"},ae={class:"flex items-center w-full bg-base-100 mt-2 rounded-finsc px-3 py-1.5"},le={class:"flex-none w-10"},ie={class:"flex-none w-20"},re={class:"flex-1 text-left px-1"},ce={class:"flex-none w-10 text-base-primary"},de={class:"flex items-center justify-between text-base-primary"},me={class:"text-xs"},ue=["onClick"],pe=["innerHTML"],_e={key:0,class:"p-4 max-w-md"},Se={__name:"BoxNews",async setup(h){let l,c;const i=V("market"),u=w(()=>F().symbol),x=o=>{window.open(o,"_blank")},k=w(()=>i.value==="event"?"/scfa/dividend?symbol="+u.value:i.value==="news"&&u.value?"/news?symbol="+u.value:"/news"),M=o=>{console.log(o),i.value=o},N=w(()=>G({baseURL:i.value==="event"?S().API_FINSC:S().API_URI})),{data:g,status:L}=([l,c]=E(()=>I("news",()=>N.value.get(k.value),{watch:[k]})),l=await l,c(),l);return(o,C)=>{const Y=J,y=U,$=j,B=Z,H=Q;return s(),n("div",O,[e("div",X,[p(Y,{scale:.45,text:"Tin Tức",class:"text-base-primary ml-4"})]),e("div",ee,[(s(!0),n(m,null,_(a(R),(t,d)=>(s(),n("button",{key:d,onClick:A=>M(t.id),class:P(["rounded-full px-3 py-1 border border-transparent",a(i)===t.id?"bg-base-100":"border-base-neutral"])},r(t.name),11,te))),128))]),e("div",se,[a(L)==="success"?(s(),n(m,{key:0},[a(i)==="event"?(s(),n("table",ne,[C[0]||(C[0]=e("thead",null,[e("tr",{class:"text-xs"},[e("th",{colspan:"4"},[e("div",{class:"flex w-full bg-base-primary rounded-full px-3 py-1 -mt-[1px]"},[e("div",{class:"flex-none w-10"},"Mã"),e("div",{class:"flex-none w-20"},"Ngày GDKHQ"),e("div",{class:"flex-1"},"Nội dung"),e("div",{class:"flex-none w-10"},"Loại")])])])],-1)),e("tbody",null,[(s(!0),n(m,null,_(a(g).data,(t,d)=>(s(),n("tr",{key:d},[e("td",oe,[e("div",ae,[e("div",le,r(t.symbol),1),e("div",ie,r(("useDate"in o?o.useDate:a(z))(t.exright_date*1e3,"DD-MM-YYYY")),1),e("div",re,r(t.title),1),e("div",ce,[t.type==="cash"?(s(),f(y,{key:0,name:"i-solar-hand-money-broken",size:"24"})):t.type==="issue"?(s(),f(y,{key:1,name:"i-game-icons-pay-money",size:"24"})):t.type==="stock"?(s(),f(y,{key:2,name:"i-grommet-icons-money",size:"24"})):v("",!0)])])])]))),128))])])):(s(!0),n(m,{key:1},_(a(g),(t,d)=>(s(),n("div",{class:"text-sm bg-base-100 px-3 py-1.5 rounded-finsc",key:d},[e("div",de,[e("div",me,r(("useDate"in o?o.useDate:a(z))(t.time,"YYYY-MM-DD HH:mm")),1),e("div",null,[p(q,{modelValue:t.link},null,8,["modelValue"])])]),p(B,{mode:"hover",popper:{placement:"right"}},{panel:D(()=>[t.summ?(s(),n("div",_e,r(t.summ),1)):v("",!0)]),default:D(()=>[e("div",{class:"flex",onClick:A=>x(t.link)},[t.linkimg?(s(),f($,{key:0,src:t.linkimg,class:"pic-box mr-2 aspect-video rounded-lg min-w-24 max-w-24"},null,8,["src"])):v("",!0),e("span",{innerHTML:t.title},null,8,pe)],8,ue)]),_:2},1024)]))),128))],64)):(s(),n(m,{key:1},_(6,t=>p(H,{height:"96px",avatar:"",key:t})),64))])])}}};export{Se as default};
