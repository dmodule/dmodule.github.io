import{g as $,r as k,U as S,aP as ce,aI as G,aN as pe,bv as ve,az as D,ao as me,_ as fe,bN as be,bY as ge,bO as Q,m as ee,bJ as te,bQ as ye,ba as J,bZ as Ie,bR as Me,x as A,o as M,l as T,w as R,b as B,v as Y,a as U,c as w,q as P,aB as he,H as ke,y as _,s as E,F as j,k as K,aX as Se,t as Z,d as Re,e as ae}from"./entry.dd57515c.js";import ne from"./Kbd.8dc56514.js";import{u as we}from"./usePopper.131299e2.js";import{o as y,u as Pe,H as F,t as z,N as W,a as g}from"./dom.4fbabe05.js";import{p as Te,u as De,x as Oe,a as h}from"./use-tracked-pointer.4fea9068.js";import{c as Ce,l as H,p as $e}from"./open-closed.43a4452f.js";import{b as Ne}from"./use-resolve-button-type.77b84eb6.js";import{w as Ae,h as Be,v as _e,N as X,_ as oe,O as Ee}from"./focus-management.d1b67802.js";import{y as He}from"./use-outside-click.5f24c618.js";import{p as Fe}from"./use-text-value.f39937f1.js";var Le=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Le||{}),Ue=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ue||{});function je(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let ue=Symbol("MenuContext");function L(e){let m=me(ue,null);if(m===null){let I=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(I,L),I}return m}let Ke=$({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:m,attrs:I}){let b=k(1),t=k(null),f=k(null),u=k([]),c=k(""),s=k(null),i=k(1);function a(l=r=>r){let r=s.value!==null?u.value[s.value]:null,o=Ee(l(u.value.slice()),d=>y(d.dataRef.domRef)),n=r?o.indexOf(r):null;return n===-1&&(n=null),{items:o,activeItemIndex:n}}let v={menuState:b,buttonRef:t,itemsRef:f,items:u,searchQuery:c,activeItemIndex:s,activationTrigger:i,closeMenu:()=>{b.value=1,s.value=null},openMenu:()=>b.value=0,goToItem(l,r,o){let n=a(),d=Oe(l===h.Specific?{focus:h.Specific,id:r}:{focus:l},{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.disabled});c.value="",s.value=d,i.value=o??1,u.value=n.items},search(l){let r=c.value!==""?0:1;c.value+=l.toLowerCase();let o=(s.value!==null?u.value.slice(s.value+r).concat(u.value.slice(0,s.value+r)):u.value).find(d=>d.dataRef.textValue.startsWith(c.value)&&!d.dataRef.disabled),n=o?u.value.indexOf(o):-1;n===-1||n===s.value||(s.value=n,i.value=1)},clearSearch(){c.value=""},registerItem(l,r){let o=a(n=>[...n,{id:l,dataRef:r}]);u.value=o.items,s.value=o.activeItemIndex,i.value=1},unregisterItem(l){let r=a(o=>{let n=o.findIndex(d=>d.id===l);return n!==-1&&o.splice(n,1),o});u.value=r.items,s.value=r.activeItemIndex,i.value=1}};return He([t,f],(l,r)=>{var o;v.closeMenu(),Ae(r,Be.Loose)||(l.preventDefault(),(o=y(t))==null||o.focus())},S(()=>b.value===0)),ce(ue,v),Ce(S(()=>Pe(b.value,{0:H.Open,1:H.Closed}))),()=>{let l={open:b.value===0,close:v.closeMenu};return F({ourProps:{},theirProps:e,slot:l,slots:m,attrs:I,name:"Menu"})}}}),ze=$({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${z()}`}},setup(e,{attrs:m,slots:I,expose:b}){let t=L("MenuButton");b({el:t.buttonRef,$el:t.buttonRef});function f(i){switch(i.key){case g.Space:case g.Enter:case g.ArrowDown:i.preventDefault(),i.stopPropagation(),t.openMenu(),D(()=>{var a;(a=y(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(h.First)});break;case g.ArrowUp:i.preventDefault(),i.stopPropagation(),t.openMenu(),D(()=>{var a;(a=y(t.itemsRef))==null||a.focus({preventScroll:!0}),t.goToItem(h.Last)});break}}function u(i){switch(i.key){case g.Space:i.preventDefault();break}}function c(i){e.disabled||(t.menuState.value===0?(t.closeMenu(),D(()=>{var a;return(a=y(t.buttonRef))==null?void 0:a.focus({preventScroll:!0})})):(i.preventDefault(),t.openMenu(),je(()=>{var a;return(a=y(t.itemsRef))==null?void 0:a.focus({preventScroll:!0})})))}let s=Ne(S(()=>({as:e.as,type:m.type})),t.buttonRef);return()=>{var i;let a={open:t.menuState.value===0},{id:v,...l}=e,r={ref:t.buttonRef,id:v,type:s.value,"aria-haspopup":"menu","aria-controls":(i=y(t.itemsRef))==null?void 0:i.id,"aria-expanded":t.menuState.value===0,onKeydown:f,onKeyup:u,onClick:c};return F({ourProps:r,theirProps:l,slot:a,attrs:m,slots:I,name:"MenuButton"})}}}),Ve=$({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${z()}`}},setup(e,{attrs:m,slots:I,expose:b}){let t=L("MenuItems"),f=k(null);b({el:t.itemsRef,$el:t.itemsRef}),Te({container:S(()=>y(t.itemsRef)),enabled:S(()=>t.menuState.value===0),accept(a){return a.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(a){a.setAttribute("role","none")}});function u(a){var v;switch(f.value&&clearTimeout(f.value),a.key){case g.Space:if(t.searchQuery.value!=="")return a.preventDefault(),a.stopPropagation(),t.search(a.key);case g.Enter:if(a.preventDefault(),a.stopPropagation(),t.activeItemIndex.value!==null){let l=t.items.value[t.activeItemIndex.value];(v=y(l.dataRef.domRef))==null||v.click()}t.closeMenu(),oe(y(t.buttonRef));break;case g.ArrowDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(h.Next);case g.ArrowUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(h.Previous);case g.Home:case g.PageUp:return a.preventDefault(),a.stopPropagation(),t.goToItem(h.First);case g.End:case g.PageDown:return a.preventDefault(),a.stopPropagation(),t.goToItem(h.Last);case g.Escape:a.preventDefault(),a.stopPropagation(),t.closeMenu(),D(()=>{var l;return(l=y(t.buttonRef))==null?void 0:l.focus({preventScroll:!0})});break;case g.Tab:a.preventDefault(),a.stopPropagation(),t.closeMenu(),D(()=>_e(y(t.buttonRef),a.shiftKey?X.Previous:X.Next));break;default:a.key.length===1&&(t.search(a.key),f.value=setTimeout(()=>t.clearSearch(),350));break}}function c(a){switch(a.key){case g.Space:a.preventDefault();break}}let s=$e(),i=S(()=>s!==null?(s.value&H.Open)===H.Open:t.menuState.value===0);return()=>{var a,v;let l={open:t.menuState.value===0},{id:r,...o}=e,n={"aria-activedescendant":t.activeItemIndex.value===null||(a=t.items.value[t.activeItemIndex.value])==null?void 0:a.id,"aria-labelledby":(v=y(t.buttonRef))==null?void 0:v.id,id:r,onKeydown:u,onKeyup:c,role:"menu",tabIndex:0,ref:t.itemsRef};return F({ourProps:n,theirProps:o,slot:l,attrs:m,slots:I,features:W.RenderStrategy|W.Static,visible:i.value,name:"MenuItems"})}}}),qe=$({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${z()}`}},setup(e,{slots:m,attrs:I,expose:b}){let t=L("MenuItem"),f=k(null);b({el:f,$el:f});let u=S(()=>t.activeItemIndex.value!==null?t.items.value[t.activeItemIndex.value].id===e.id:!1),c=Fe(f),s=S(()=>({disabled:e.disabled,get textValue(){return c()},domRef:f}));G(()=>t.registerItem(e.id,s)),pe(()=>t.unregisterItem(e.id)),ve(()=>{t.menuState.value===0&&u.value&&t.activationTrigger.value!==0&&D(()=>{var n,d;return(d=(n=y(f))==null?void 0:n.scrollIntoView)==null?void 0:d.call(n,{block:"nearest"})})});function i(n){if(e.disabled)return n.preventDefault();t.closeMenu(),oe(y(t.buttonRef))}function a(){if(e.disabled)return t.goToItem(h.Nothing);t.goToItem(h.Specific,e.id)}let v=De();function l(n){v.update(n)}function r(n){v.wasMoved(n)&&(e.disabled||u.value||t.goToItem(h.Specific,e.id,0))}function o(n){v.wasMoved(n)&&(e.disabled||u.value&&t.goToItem(h.Nothing))}return()=>{let{disabled:n}=e,d={active:u.value,disabled:n,close:t.closeMenu},{id:p,...O}=e;return F({ourProps:{id:p,ref:f,role:"menuitem",tabIndex:n===!0?void 0:-1,"aria-disabled":n===!0?!0:void 0,disabled:void 0,onClick:i,onFocus:a,onPointerenter:l,onMouseenter:l,onPointermove:r,onMousemove:r,onPointerleave:o,onMouseleave:o},theirProps:{...I,...O},slot:d,attrs:I,slots:m,name:"MenuItem"})}}});const xe=be(Q.ui.strategy,Q.ui.dropdown,ge),Qe=$({components:{HMenu:Ke,HMenuButton:ze,HMenuItems:Ve,HMenuItem:qe,UIcon:ee,UAvatar:te,UKbd:ne},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},disabled:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},setup(e){const{ui:m,attrs:I}=ye("dropdown",J(e,"ui"),xe,J(e,"class")),b=S(()=>Ie(e.mode==="hover"?{offsetDistance:0}:{},e.popper,m.value.popper)),[t,f]=we(b.value),u=k(null);let c=null,s=null;G(()=>{setTimeout(()=>{var d;const o=(d=t.value)==null?void 0:d.$.provides;if(!o)return;const n=Object.getOwnPropertySymbols(o);u.value=n.length&&o[n[0]]},200)});const i=S(()=>{var n,d;const o=((n=e.popper)==null?void 0:n.offsetDistance)||((d=m.value.popper)==null?void 0:d.offsetDistance)||8;return e.mode==="hover"?{paddingTop:`${o}px`,paddingBottom:`${o}px`}:{}});function a(){e.mode!=="hover"||!u.value||(s&&(clearTimeout(s),s=null),u.value.menuState!==0&&(c=c||setTimeout(()=>{u.value.openMenu&&u.value.openMenu(),c=null},e.openDelay)))}function v(){e.mode!=="hover"||!u.value||(c&&(clearTimeout(c),c=null),u.value.menuState!==1&&(s=s||setTimeout(()=>{u.value.closeMenu&&u.value.closeMenu(),s=null},e.closeDelay)))}function l(o,n,{href:d,navigate:p,close:O,isExternal:C}){n.click&&n.click(o),d&&!C&&(p(o),O())}return{ui:m,attrs:I,popper:b,trigger:t,container:f,containerStyle:i,onMouseOver:a,onMouseLeave:v,onClick:l,omit:Me,NuxtLink:ae}}}),Je=["disabled"],Ye={class:"truncate"};function Ze(e,m,I,b,t,f){const u=A("HMenuButton"),c=ee,s=te,i=ne,a=A("HMenuItem"),v=ae,l=A("HMenuItems"),r=A("HMenu");return M(),T(r,_({as:"div",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave}),{default:R(({open:o})=>[B(u,{ref:"trigger",as:"div",disabled:e.disabled,class:"inline-flex w-full",role:"button",onMouseover:e.onMouseOver},{default:R(()=>[Y(e.$slots,"default",{open:o,disabled:e.disabled},()=>[U("button",{disabled:e.disabled}," Open ",8,Je)])]),_:2},1032,["disabled","onMouseover"]),o&&e.items.length?(M(),w("div",{key:0,ref:"container",class:P([e.ui.container,e.ui.width]),style:he(e.containerStyle),onMouseover:m[0]||(m[0]=(...n)=>e.onMouseOver&&e.onMouseOver(...n))},[B(ke,_({appear:""},e.ui.transition),{default:R(()=>[U("div",null,[e.popper.arrow?(M(),w("div",{key:0,"data-popper-arrow":"",class:P(["invisible before:visible before:block before:rotate-45 before:z-[-1]",Object.values(e.ui.arrow)])},null,2)):E("",!0),B(l,{class:P([e.ui.base,e.ui.divide,e.ui.ring,e.ui.rounded,e.ui.shadow,e.ui.background,e.ui.height]),static:""},{default:R(()=>[(M(!0),w(j,null,K(e.items,(n,d)=>(M(),w("div",{key:d,class:P(e.ui.padding)},[(M(!0),w(j,null,K(n,(p,O)=>(M(),T(v,_({key:O},e.omit(p,["label","slot","icon","iconClass","avatar","shortcuts","disabled","click"]),{custom:""}),{default:R(({href:C,target:le,rel:se,navigate:ie,isExternal:re})=>[B(a,{disabled:p.disabled},{default:R(({active:V,disabled:q,close:de})=>[(M(),T(Se(C?"a":"button"),{href:q?void 0:C,rel:se,target:le,class:P([e.ui.item.base,e.ui.item.padding,e.ui.item.size,e.ui.item.rounded,V?e.ui.item.active:e.ui.item.inactive,q&&e.ui.item.disabled]),onClick:N=>e.onClick(N,p,{href:C,navigate:ie,close:de,isExternal:re})},{default:R(()=>[Y(e.$slots,p.slot||"item",{item:p},()=>{var N;return[p.icon?(M(),T(c,{key:0,name:p.icon,class:P([e.ui.item.icon.base,V?e.ui.item.icon.active:e.ui.item.icon.inactive,p.iconClass])},null,8,["name","class"])):p.avatar?(M(),T(s,_({key:1},{size:e.ui.item.avatar.size,...p.avatar},{class:e.ui.item.avatar.base}),null,16,["class"])):E("",!0),U("span",Ye,Z(p.label),1),(N=p.shortcuts)!=null&&N.length?(M(),w("span",{key:2,class:P(e.ui.item.shortcuts)},[(M(!0),w(j,null,K(p.shortcuts,x=>(M(),T(i,{key:x},{default:R(()=>[Re(Z(x),1)]),_:2},1024))),128))],2)):E("",!0)]})]),_:2},1032,["href","rel","target","class","onClick"]))]),_:2},1032,["disabled"])]),_:2},1040))),128))],2))),128))]),_:3},8,["class"])])]),_:3},16)],38)):E("",!0)]),_:3},16,["class","onMouseleave"])}const st=fe(Qe,[["render",Ze]]);export{st as default};
