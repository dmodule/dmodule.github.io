import B from"./Icon.fec76bad.js";import{f as H,ac as O,x as i,aL as U,az as z,bq as N,a6 as S,F as P,_ as R,bH as q,bI as I,b5 as G,bJ as h,aQ as J,o as C,z as M,w as T,a as Q,aq as d,c as k,b as w,A as V,ao as W}from"./entry.315daf49.js";import{t as X}from"./tw-merge.ef7dc0f7.js";import{y as Y,u as Z}from"./ui.config.ea598d69.js";import{u as _}from"./useFormGroup.77201ece.js";import{t as x,o as ee,K as ae,H as te,T as oe,a as A}from"./dom.d9ba789f.js";import{b as ne}from"./use-resolve-button-type.a9500922.js";import{f as le,a as ie}from"./hidden.80d35f72.js";import{d as se,p as re}from"./use-controllable.7c894c1a.js";import"./index.5541bdbc.js";let ue=Symbol("GroupContext"),ce=H({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${x()}`}},inheritAttrs:!1,setup(e,{emit:u,attrs:t,slots:p,expose:f}){let o=O(ue,null),[n,c]=se(i(()=>e.modelValue),a=>u("update:modelValue",a),i(()=>e.defaultChecked));function s(){c(!n.value)}let y=U(null),r=o===null?y:o.switchRef,b=ne(i(()=>({as:e.as,type:t.type})),r);f({el:r,$el:r});function g(a){a.preventDefault(),s()}function $(a){a.key===A.Space?(a.preventDefault(),s()):a.key===A.Enter&&re(a.currentTarget)}function E(a){a.preventDefault()}let m=i(()=>{var a,l;return(l=(a=ee(r))==null?void 0:a.closest)==null?void 0:l.call(a,"form")});return z(()=>{N([m],()=>{if(!m.value||e.defaultChecked===void 0)return;function a(){c(e.defaultChecked)}return m.value.addEventListener("reset",a),()=>{var l;(l=m.value)==null||l.removeEventListener("reset",a)}},{immediate:!0})}),()=>{let{id:a,name:l,value:j,form:D,...F}=e,K={checked:n.value},L={id:a,ref:r,role:"switch",type:b.value,tabIndex:0,"aria-checked":n.value,"aria-labelledby":o==null?void 0:o.labelledby.value,"aria-describedby":o==null?void 0:o.describedby.value,onClick:g,onKeyup:$,onKeypress:E};return S(P,[l!=null&&n.value!=null?S(le,ae({features:ie.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:n.value,form:D,name:l,value:j})):null,te({ourProps:L,theirProps:{...t,...oe(F,["modelValue","defaultChecked"])},slot:K,attrs:t,slots:p,name:"Switch"})])}}});const v=q(I.ui.strategy,I.ui.toggle,Y),de=H({components:{HSwitch:ce,UIcon:B},inheritAttrs:!1,props:{id:{type:String,default:null},name:{type:String,default:null},modelValue:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},onIcon:{type:String,default:()=>v.default.onIcon},offIcon:{type:String,default:()=>v.default.offIcon},color:{type:String,default:()=>v.default.color,validator(e){return I.ui.colors.includes(e)}},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["update:modelValue"],setup(e,{emit:u}){const{ui:t,attrs:p}=Z("toggle",G(e,"ui"),v),{emitFormChange:f,color:o,inputId:n,name:c}=_(e),s=i({get(){return e.modelValue},set(g){u("update:modelValue",g),f()}}),y=i(()=>X(h(t.value.base,t.value.rounded,t.value.ring.replaceAll("{color}",o.value),(s.value?t.value.active:t.value.inactive).replaceAll("{color}",o.value)),e.class)),r=i(()=>h(t.value.icon.on.replaceAll("{color}",o.value))),b=i(()=>h(t.value.icon.off.replaceAll("{color}",o.value)));return{ui:t,attrs:p,name:c,inputId:n,active:s,switchClass:y,onIconClass:r,offIconClass:b}}});function pe(e,u,t,p,f,o){const n=B,c=J("HSwitch");return C(),M(c,W({id:e.inputId,modelValue:e.active,"onUpdate:modelValue":u[0]||(u[0]=s=>e.active=s),name:e.name,disabled:e.disabled,class:e.switchClass},e.attrs),{default:T(()=>[Q("span",{class:d([e.active?e.ui.container.active:e.ui.container.inactive,e.ui.container.base])},[e.onIcon?(C(),k("span",{key:0,class:d([e.active?e.ui.icon.active:e.ui.icon.inactive,e.ui.icon.base]),"aria-hidden":"true"},[w(n,{name:e.onIcon,class:d(e.onIconClass)},null,8,["name","class"])],2)):V("",!0),e.offIcon?(C(),k("span",{key:1,class:d([e.active?e.ui.icon.inactive:e.ui.icon.active,e.ui.icon.base]),"aria-hidden":"true"},[w(n,{name:e.offIcon,class:d(e.offIconClass)},null,8,["name","class"])],2)):V("",!0)],2)]),_:1},16,["id","modelValue","name","disabled","class"])}const ke=R(de,[["render",pe]]);export{ke as default};
