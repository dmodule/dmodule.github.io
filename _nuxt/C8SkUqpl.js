import{_ as M}from"./D0QZyhSl.js";import{_ as P}from"./CtkwUNzT.js";import{r as m,bb as R,bU as $,bX as H,a_ as z,bs as d,bq as a,br as s,c1 as p,by as i,bD as n,bx as r,bB as _,bC as k,bQ as y,bP as G,bz as q,bA as F,bF as L,bH as O}from"./B5CNXMPg.js";import{u as Y}from"./-Pa_sf8E.js";import{w as j}from"./BCqZNjps.js";import{a as I}from"./CbGsoO7p.js";import{s as E}from"./D1XOgQPg.js";import{u as Q}from"./3YHVM6WK.js";import"./DdDBkiWh.js";import"./BBm5foIw.js";import"./DxqHYnwt.js";import"./BLVB0qGI.js";const X={class:"overflow-hidden flex items-center justify-center text-sm bg-transparent"},Z={class:"bg-base-200 max-w-2xl p-6 flex flex-col gap-6"},K={class:"bg-base-300 flex items-center p-6 border-4 border-base-primary rounded-finsc"},J={class:"p-6 bg-base-300 rounded-finsc flex"},W={class:"font-semibold mt-4"},ss={class:"p-6 bg-base-300 rounded-finsc"},ts={class:"p-6 bg-base-300 rounded-finsc flex"},es={class:"table table-zebra text-sm table-pin-rows table-pin-cols rounded-lg overflow-hidden bg-white/10"},ns={class:"text-left px-1.5 py-1"},os={class:"text-left px-1.5 py-1"},ls={class:"relative w-full bg-base-secondary h-4 rounded-full overflow-hidden"},rs={class:"text-left px-1.5 py-1"},is={class:"relative w-full bg-base-secondary h-4 rounded-full overflow-hidden"},ds={class:"text-left px-1.5 py-1"},as={class:"relative w-full bg-base-secondary h-4 rounded-full overflow-hidden"},cs={class:"p-6 bg-base-300 rounded-finsc"},ps={class:"mb-6"},bs={class:"table table-zebra text-sm table-pin-rows table-pin-cols rounded-lg overflow-hidden bg-white/10"},ms={class:"text-xs text-left bg-base-primary"},us={class:"px-1.5 py-1"},hs={class:"border-b border-base-200"},gs={class:"px-1.5 py-1"},xs={class:"border-b border-base-200"},fs={class:"px-1.5 py-1"},_s={class:"border-b border-base-200"},ys={class:"px-1.5 py-1"},vs={class:"border-b border-base-200"},ws={class:"px-1.5 py-1"},Ts={class:"border-b border-base-200"},Ns={class:"px-1.5 py-1"},As={class:"border-b border-base-200"},Cs={class:"px-1.5 py-1"},Ds={class:"border-b border-base-200"},ks={class:"px-1.5 py-1"},Is={class:"border-b border-base-200"},Ss={class:"px-1.5 py-1"},Vs={class:"border-b border-base-200"},Us={class:"px-1.5 py-1"},Bs={class:"border-b border-base-200"},Ms={class:"px-1.5 py-1"},Ps={class:"mt-6"},Rs={class:"relative"},$s={class:"flex justify-start mb-2"},Ks={__name:"PopupTradingMap",async setup(Hs){let b,v;const w=new Date().getTime(),c=m(!1),T=m(!1),u=o=>{T.value=o.target.src,c.value=!0},N=m({}),S=async o=>{const t=await $fetch(`${I().API_URI}/chartimg?sb=${o}`);t&&(N.value[o]="data:image/png;base64,"+(t==null?void 0:t.imgcode))},A=m("");function C(){const o=new Date,t=String(o.getHours()).padStart(2,"0"),l=String(o.getMinutes()).padStart(2,"0");A.value=`${t}:${l}`}R(()=>{C();const o=E(C,6e4);$(()=>clearInterval(o))});const V=Q({baseURL:I().API_URI}),{data:h,status:U}=([b,v]=j(()=>H("tradingmap",()=>V.get("tradingmap"))),b=await b,v(),b),D=z(()=>{var o;return(o=h.value)!=null&&o.length?{list:h.value[0],all:Object.entries(h.value[1]).map(([t,[l,g,x]])=>({sector:t,shortTerm:Number(l),midTerm:Number(g),longTerm:Number(x)}))}:{list:[],all:{}}});return(o,t)=>{const l=M,g=P,x=L,B=O;return d(),a("div",X,[s("div",Z,[s("div",K,[t[2]||(t[2]=s("div",{class:"flex-1 flex items-end"},[s("h1",{class:"text-4xl font-bold"},[p(" TRADING "),s("span",{class:"text-base-primary -ml-2"},"MAP")]),s("p",{class:"-mb-1.5 text-black bg-yellow-500 text-xs font-semibold px-1 py-0.5 rounded-md"}," ĐỊNH VỊ THỊ TRƯỜNG ")],-1)),i(l,{src:"/static/logo.png",class:"w-14 h-12"})]),s("div",J,[s("div",null,[t[3]||(t[3]=s("p",{class:"font-bold text-base-primary"}," Báo cáo này dành cho các nhà đầu tư trong tập khách hàng VIP của FINSC. ",-1)),t[4]||(t[4]=s("p",{class:"mt-4"}," Phòng phân tích FINSC xin gửi đến quý nhà đầu tư báo cáo nhanh về thị trường và các cơ hội đầu tư tiềm năng trong hôm nay. ",-1)),t[5]||(t[5]=s("p",{class:"mt-2"}," Báo cáo sử dụng công nghệ AI để dự đoán chuyển động của giá trong 20 phiên tới, kết hợp với thuật toán phân tích mẫu hình tự động giúp tính toán các vùng mua bán tốt nhất. ",-1)),s("p",W," Thời gian: "+n(("useDate"in o?o.useDate:r(Y))(new Date,"YYYY-MM-DD"))+" ("+n(r(A))+") ",1)]),i(l,{src:"/static/common/hnminh.webp",class:"flex-none h-64 -mr-2"})]),s("div",ss,[i(l,{src:`https://trade.finsc.vn/ch_lib/VNINDEX.png?secrcodx=${r(w)}`,onClick:u},null,8,["src"]),t[6]||(t[6]=p(" Click vào hình để xem chi tiết phân tích kỹ thuật "))]),r(U)==="success"?(d(),a(_,{key:0},[s("div",ts,[s("table",es,[t[7]||(t[7]=s("thead",null,[s("tr",{class:"text-xs text-left bg-base-primary"},[s("th",{class:"px-1.5 py-1"},"Bảng Tỷ lệ cổ ngành uptrend"),s("th",{class:"px-1.5 py-1 w-24"},"Ngắn hạn (%)"),s("th",{class:"px-1.5 py-1 w-24"},"Trung hạn (%)"),s("th",{class:"px-1.5 py-1 w-24"},"Dài hạn (%)")])],-1)),s("tbody",null,[(d(!0),a(_,null,k(r(D).all,(e,f)=>(d(),a("tr",{key:f,class:"border-b border-base-200"},[s("td",ns,n(e.sector),1),s("td",os,[s("div",ls,[s("div",{class:"text-center h-4 leading-4 bg-base-primary",style:y({width:e.shortTerm+"%"})},n(e.shortTerm),5)])]),s("td",rs,[s("div",is,[s("div",{class:"text-center h-4 leading-4 bg-base-primary",style:y({width:e.midTerm+"%"})},n(e.midTerm),5)])]),s("td",ds,[s("div",as,[s("div",{class:"text-center h-4 leading-4 bg-base-primary",style:y({width:e.longTerm+"%"})},n(e.longTerm),5)])])]))),128))])])]),s("div",cs,[i(l,{src:`https://trade.finsc.vn/ch_lib/qsc2w.png?secrcodx=${r(w)}`,onClick:u},null,8,["src"]),t[8]||(t[8]=p(" Danh mục đầu tư định lượng chu kỳ ngắn ")),t[9]||(t[9]=s("b",{class:"text-yellow-500"},"Quant for Short Cycle (QSC)",-1)),t[10]||(t[10]=p(" , mua nắm giữ theo đúng tỷ trọng và chỉ cần đánh giá lại sau mỗi 2 tuần. "))])],64)):G("",!0),(d(!0),a(_,null,k(r(D).list,(e,f)=>(d(),a("div",{class:"p-6 bg-base-300 rounded-finsc",key:f},[s("div",ps,[i(l,{src:r(N)[e.MA],onOnVisibled:()=>S(e.MA),onClick:u},null,8,["src","onOnVisibled"]),t[11]||(t[11]=p(" Click vào hình để xem chi tiết phân tích kỹ thuật "))]),s("table",bs,[s("thead",null,[s("tr",ms,[s("th",us,"Bảng tiêu chí đánh giá "+n(e.MA),1),t[12]||(t[12]=s("th",{class:"px-1.5 py-1"},"Kết quả",-1))])]),s("tbody",null,[s("tr",hs,[t[13]||(t[13]=s("td",{class:"px-1.5 py-1 font-semibold"},"Nhóm ngành (ICB lv2)",-1)),s("td",gs,n(e.NGANH),1)]),s("tr",xs,[t[14]||(t[14]=s("td",{class:"px-1.5 py-1 font-semibold"}," Tỷ lệ cổ ngành uptrend (ngắn, trung, dài hạn) ",-1)),s("td",fs," ["+n(e.shoUp)+"%] - ["+n(e.midUp)+"%] - ["+n(e.lonUp)+"%] ",1)]),s("tr",_s,[t[15]||(t[15]=s("td",{class:"px-1.5 py-1 font-semibold"},"Xu hướng (ngắn, trung, dài hạn)",-1)),s("td",ys," ["+n(e.SUCMANH)+"] - ["+n(e.TRUNGHAN)+"] - ["+n(e.DAIHAN)+"] ",1)]),s("tr",vs,[t[16]||(t[16]=s("td",{class:"px-1.5 py-1 font-semibold"},"RS",-1)),s("td",ws,n(e.RS),1)]),s("tr",Ts,[t[17]||(t[17]=s("td",{class:"px-1.5 py-1 font-semibold"},"Chu kỳ RRG",-1)),s("td",Ns,n(e.rrg),1)]),s("tr",As,[t[18]||(t[18]=s("td",{class:"px-1.5 py-1 font-semibold"},"Pattern 1",-1)),s("td",Cs,n(e.pattern),1)]),s("tr",Ds,[t[19]||(t[19]=s("td",{class:"px-1.5 py-1 font-semibold"},"Pattern 2",-1)),s("td",ks,n(e.candles),1)]),s("tr",Is,[t[20]||(t[20]=s("td",{class:"px-1.5 py-1 font-semibold"},"Mẫu hình nến",-1)),s("td",Ss,n(e.candles),1)]),s("tr",Vs,[t[21]||(t[21]=s("td",{class:"px-1.5 py-1 font-semibold"},"Bò/Gấu",-1)),s("td",Us,n(e.bulVol)+" / "+n(e.bearVol),1)]),s("tr",Bs,[t[22]||(t[22]=s("td",{class:"px-1.5 py-1 font-semibold"},"Định giá",-1)),s("td",Ms,n(e.DG_bq)+" ("+n(e.BAT)+"%)",1)])])]),s("div",Ps,[t[23]||(t[23]=s("p",null,[s("b",null,"Diễn giải:")],-1)),s("p",null,n(e.cmtTA),1)])]))),128))]),i(B,{modelValue:r(c),"onUpdate:modelValue":t[1]||(t[1]=e=>F(c)?c.value=e:null),ui:{width:"w-full sm:max-w-6xl"}},{default:q(()=>[s("div",Rs,[s("div",$s,[i(g,{text:"Phân tích mẫu hình tự động",class:"text-base-primary ml-4"})]),i(x,{color:"red",icon:"i-ri-close-line",class:"absolute top-2 right-2",size:"xs",square:"",ui:{rounded:"rounded-full"},onClick:t[0]||(t[0]=e=>c.value=!1)}),i(l,{src:r(T)},null,8,["src"])])]),_:1},8,["modelValue"])])}}};export{Ks as default};
