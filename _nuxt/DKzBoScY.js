import{_ as gt,o as Z,c as tt,T as ft,r as at,m as bt,h as wt,O as yt,a as xt,s as ot,b as ut,H as kt,a7 as Mt,B as Tt}from"./DekgxQ9R.js";import{s as zt}from"./B0OA6Hk3.js";const Ct={},Et={class:"keen-slider__slide"};function _t(t,i){return Z(),tt("div",Et,[ft(t.$slots,"default")])}const $t=gt(Ct,[["render",_t]]);var F=function(){return F=Object.assign||function(t){for(var i,e=1,c=arguments.length;e<c;e++)for(var r in i=arguments[e])Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);return t},F.apply(this,arguments)};function pt(t,i,e){for(var c,r=0,o=i.length;r<o;r++)!c&&r in i||(c||(c=Array.prototype.slice.call(i,0,r)),c[r]=i[r]);return t.concat(c||Array.prototype.slice.call(i))}function st(t){return Array.prototype.slice.call(t)}function ct(t,i){var e=Math.floor(t);return e===i||e+1===i?t:i}function lt(){return Date.now()}function Q(t,i,e){if(i="data-keen-slider-"+i,e===null)return t.removeAttribute(i);t.setAttribute(i,e||"")}function K(t,i){return i=i||document,typeof t=="function"&&(t=t(i)),Array.isArray(t)?t:typeof t=="string"?st(i.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?st(t):[]}function Y(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function U(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function vt(){var t=[];return{add:function(i,e,c,r){i.addListener?i.addListener(c):i.addEventListener(e,c,r),t.push([i,e,c,r])},input:function(i,e,c,r){this.add(i,e,function(o){return function(a){a.nativeEvent&&(a=a.nativeEvent);var y=a.changedTouches||[],h=a.targetTouches||[],u=a.detail&&a.detail.x?a.detail:null;return o({id:u?u.identifier?u.identifier:"i":h[0]?h[0]?h[0].identifier:"e":"d",idChanged:u?u.identifier?u.identifier:"i":y[0]?y[0]?y[0].identifier:"e":"d",raw:a,x:u&&u.x?u.x:h[0]?h[0].screenX:u?u.x:a.pageX,y:u&&u.y?u.y:h[0]?h[0].screenY:u?u.y:a.pageY})}}(c),r)},purge:function(){t.forEach(function(i){i[0].removeListener?i[0].removeListener(i[2]):i[0].removeEventListener(i[1],i[2],i[3])}),t=[]}}}function et(t,i,e){return Math.min(Math.max(t,i),e)}function R(t){return(t>0?1:0)-(t<0?1:0)||+t}function dt(t){var i=t.getBoundingClientRect();return{height:ct(i.height,t.offsetHeight),width:ct(i.width,t.offsetWidth)}}function $(t,i,e,c){var r=t&&t[i];return r==null?e:c&&typeof r=="function"?r():r}function P(t){return Math.round(1e6*t)/1e6}function It(t){var i,e,c,r,o,a;function y(x){a||(a=x),h(!0);var C=x-a;C>c&&(C=c);var l=r[e];if(l[3]<C)return e++,y(x);var T=l[2],E=l[4],m=l[0],g=l[1]*(0,l[5])(E===0?1:(C-T)/E);if(g&&t.track.to(m+g),C<c)return z();a=null,h(!1),u(null),t.emit("animationEnded")}function h(x){i.active=x}function u(x){i.targetIdx=x}function z(){var x;x=y,o=window.requestAnimationFrame(x)}function A(){var x;x=o,window.cancelAnimationFrame(x),h(!1),u(null),a&&t.emit("animationStopped"),a=null}return i={active:!1,start:function(x){if(A(),t.track.details){var C=0,l=t.track.details.position;e=0,c=0,r=x.map(function(T){var E,m=Number(l),g=(E=T.earlyExit)!==null&&E!==void 0?E:T.duration,v=T.easing,V=T.distance*v(g/T.duration)||0;l+=V;var _=c;return c+=g,C+=V,[m,T.distance,_,c,T.duration,v]}),u(t.track.distToIdx(C)),z(),t.emit("animationStarted")}},stop:A,targetIdx:null}}function St(t){var i,e,c,r,o,a,y,h,u,z,A,x,C,l,T=1/0,E=[],m=null,g=0;function v(p){H(g+p)}function V(p){var d=_(g+p).abs;return M(d)?d:null}function _(p){var d=Math.floor(Math.abs(P(p/e))),n=P((p%e+e)%e);n===e&&(n=0);var w=R(p),f=y.indexOf(pt([],y).reduce(function(I,S){return Math.abs(S-n)<Math.abs(I-n)?S:I})),k=f;return w<0&&d++,f===a&&(k=0,d+=w>0?1:-1),{abs:k+d*a*w,origin:f,rel:k}}function L(p,d,n){var w;if(d||!q())return s(p,n);if(!M(p))return null;var f=_(n??g),k=f.abs,I=p-f.rel,S=k+I;w=s(S);var N=s(S-a*R(I));return(N!==null&&Math.abs(N)<Math.abs(w)||w===null)&&(w=N),P(w)}function s(p,d){if(d==null&&(d=P(g)),!M(p)||p===null)return null;p=Math.round(p);var n=_(d),w=n.abs,f=n.rel,k=n.origin,I=B(p),S=(d%e+e)%e,N=y[k],W=Math.floor((p-(w-f))/a)*e;return P(N-S-N+y[I]+W+(k===a?e:0))}function M(p){return D(p)===p}function D(p){return et(p,u,z)}function q(){return r.loop}function B(p){return(p%a+a)%a}function H(p){var d;d=p-g,E.push({distance:d,timestamp:lt()}),E.length>6&&(E=E.slice(-6)),g=P(p);var n=b().abs;if(n!==m){var w=m!==null;m=n,w&&t.emit("slideChanged")}}function b(p){var d=p?null:function(){if(a){var n=q(),w=n?(g%e+e)%e:g,f=(n?g%e:g)-o[0][2],k=0-(f<0&&n?e-Math.abs(f):f),I=0,S=_(g),N=S.abs,W=S.rel,G=o[W][2],J=o.map(function(j,mt){var O=k+I;(O<0-j[0]||O>1)&&(O+=(Math.abs(O)>e-1&&n?e:0)*R(-O));var it=mt-W,nt=R(it),X=it+N;n&&(nt===-1&&O>G&&(X+=a),nt===1&&O<G&&(X-=a),A!==null&&X<A&&(O+=e),x!==null&&X>x&&(O-=e));var rt=O+j[0]+j[1],ht=Math.max(O>=0&&rt<=1?1:rt<0||O>1?0:O<0?Math.min(1,(j[0]+O)/j[0]):(1-O)/j[0],0);return I+=j[0]+j[1],{abs:X,distance:r.rtl?-1*O+1-j[0]:O,portion:ht,size:j[0]}});return N=D(N),W=B(N),{abs:D(N),length:c,max:l,maxIdx:z,min:C,minIdx:u,position:g,progress:n?w/e:g/c,rel:W,slides:J,slidesLength:e}}}();return i.details=d,t.emit("detailsChanged"),d}return i={absToRel:B,add:v,details:null,distToIdx:V,idxToDist:L,init:function(p){if(function(){if(r=t.options,o=(r.trackConfig||[]).map(function(f){return[$(f,"size",1),$(f,"spacing",0),$(f,"origin",0)]}),a=o.length){e=P(o.reduce(function(f,k){return f+k[0]+k[1]},0));var n,w=a-1;c=P(e+o[0][2]-o[w][0]-o[w][2]-o[w][1]),y=o.reduce(function(f,k){if(!f)return[0];var I=o[f.length-1],S=f[f.length-1]+(I[0]+I[2])+I[1];return S-=k[2],f[f.length-1]>S&&(S=f[f.length-1]),S=P(S),f.push(S),(!n||n<S)&&(h=f.length-1),n=S,f},null),c===0&&(h=0),y.push(P(e))}}(),!a)return b(!0);var d;(function(){var n=t.options.range,w=t.options.loop;A=u=w?$(w,"min",-1/0):0,x=z=w?$(w,"max",T):h;var f=$(n,"min",null),k=$(n,"max",null);f!==null&&(u=f),k!==null&&(z=k),C=u===-1/0?u:t.track.idxToDist(u||0,!0,0),l=z===T?z:L(z,!0,0),k===null&&(x=z),$(n,"align",!1)&&z!==T&&o[B(z)][2]===0&&(l-=1-o[B(z)][0],z=V(l-g)),C=P(C),l=P(l)})(),d=p,Number(d)===d?v(s(D(p))):b()},to:H,velocity:function(){var p=lt(),d=E.reduce(function(n,w){var f=w.distance,k=w.timestamp;return p-k>200||(R(f)!==R(n.distance)&&n.distance&&(n={distance:0,lastTimestamp:0,time:0}),n.time&&(n.distance+=f),n.lastTimestamp&&(n.time+=k-n.lastTimestamp),n.lastTimestamp=k),n},{distance:0,lastTimestamp:0,time:0});return d.distance/d.time||0}}}function Lt(t){var i,e,c,r,o,a,y,h;function u(m){return 2*m}function z(m){return et(m,y,h)}function A(m){return 1-Math.pow(1-m,3)}function x(){return c?t.track.velocity():0}function C(){E();var m=t.options.mode==="free-snap",g=t.track,v=x();r=R(v);var V=t.track.details,_=[];if(v||!m){var L=l(v),s=L.dist,M=L.dur;if(M=u(M),s*=r,m){var D=g.idxToDist(g.distToIdx(s),!0);D&&(s=D)}_.push({distance:s,duration:M,easing:A});var q=V.position,B=q+s;if(B<o||B>a){var H=B<o?o-q:a-q,b=0,p=v;if(R(H)===r){var d=Math.min(Math.abs(H)/Math.abs(s),1),n=function(k){return 1-Math.pow(1-k,1/3)}(d)*M;_[0].earlyExit=n,p=v*(1-d)}else _[0].earlyExit=0,b+=H;var w=l(p,100),f=w.dist*r;t.options.rubberband&&(_.push({distance:f,duration:u(w.dur),easing:A}),_.push({distance:-f+b,duration:500,easing:A}))}t.animator.start(_)}else t.moveToIdx(z(V.abs),!0,{duration:500,easing:function(k){return 1+--k*k*k*k*k}})}function l(m,g){g===void 0&&(g=1e3);var v=147e-9+(m=Math.abs(m))/g;return{dist:Math.pow(m,2)/v,dur:m/v}}function T(){var m=t.track.details;m&&(o=m.min,a=m.max,y=m.minIdx,h=m.maxIdx)}function E(){t.animator.stop()}t.on("updated",T),t.on("optionsChanged",T),t.on("created",T),t.on("dragStarted",function(){c=!1,E(),i=e=t.track.details.abs}),t.on("dragChecked",function(){c=!0}),t.on("dragEnded",function(){var m=t.options.mode;m==="snap"&&function(){var g=t.track,v=t.track.details,V=v.position,_=R(x());(V>a||V<o)&&(_=0);var L=i+_;v.slides[g.absToRel(L)].portion===0&&(L-=_),i!==e&&(L=e),R(g.idxToDist(L,!0))!==_&&(L+=_),L=z(L);var s=g.idxToDist(L,!0);t.animator.start([{distance:s,duration:500,easing:function(M){return 1+--M*M*M*M*M}}])}(),m!=="free"&&m!=="free-snap"||C()}),t.on("dragged",function(){e=t.track.details.abs})}function At(t){var i,e,c,r,o,a,y,h,u,z,A,x,C,l,T,E,m,g,v=vt();function V(b){if(a&&h===b.id){var p=M(b);if(u){if(!s(b))return L(b);z=p,u=!1,t.emit("dragChecked")}if(E)return z=p;Y(b);var d=function(w){if(m===-1/0&&g===1/0)return w;var f=t.track.details,k=f.length,I=f.position,S=et(w,m-I,g-I);if(k===0)return 0;if(!t.options.rubberband)return S;if(I<=g&&I>=m||I<m&&e>0||I>g&&e<0)return w;var N=(I<m?I-m:I-g)/k,W=r*k,G=Math.abs(N*W),J=Math.max(0,1-G/o*2);return J*J*w}(y(z-p)/r*c);e=R(d);var n=t.track.details.position;(n>m&&n<g||n===m&&e>0||n===g&&e<0)&&U(b),A+=d,!x&&Math.abs(A*r)>5&&(x=!0),t.track.add(d),z=p,t.emit("dragged")}}function _(b){!a&&t.track.details&&t.track.details.length&&(A=0,a=!0,x=!1,u=!0,h=b.id,s(b),z=M(b),t.emit("dragStarted"))}function L(b){a&&h===b.idChanged&&(a=!1,t.emit("dragEnded"))}function s(b){var p=D(),d=p?b.y:b.x,n=p?b.x:b.y,w=C!==void 0&&l!==void 0&&Math.abs(l-n)<=Math.abs(C-d);return C=d,l=n,w}function M(b){return D()?b.y:b.x}function D(){return t.options.vertical}function q(){r=t.size,o=D()?window.innerHeight:window.innerWidth;var b=t.track.details;b&&(m=b.min,g=b.max)}function B(b){x&&(U(b),Y(b))}function H(){if(v.purge(),t.options.drag&&!t.options.disabled){var b;b=t.options.dragSpeed||1,y=typeof b=="function"?b:function(d){return d*b},c=t.options.rtl?-1:1,q(),i=t.container,function(){var d="data-keen-slider-clickable";K("[".concat(d,"]:not([").concat(d,"=false])"),i).map(function(n){v.add(n,"dragstart",U),v.add(n,"mousedown",U),v.add(n,"touchstart",U)})}(),v.add(i,"dragstart",function(d){Y(d)}),v.add(i,"click",B,{capture:!0}),v.input(i,"ksDragStart",_),v.input(i,"ksDrag",V),v.input(i,"ksDragEnd",L),v.input(i,"mousedown",_),v.input(i,"mousemove",V),v.input(i,"mouseleave",L),v.input(i,"mouseup",L),v.input(i,"touchstart",_,{passive:!0}),v.input(i,"touchmove",V,{passive:!1}),v.input(i,"touchend",L),v.input(i,"touchcancel",L),v.add(window,"wheel",function(d){a&&Y(d)});var p="data-keen-slider-scrollable";K("[".concat(p,"]:not([").concat(p,"=false])"),t.container).map(function(d){return function(n){var w;v.input(n,"touchstart",function(f){w=M(f),E=!0,T=!0},{passive:!0}),v.input(n,"touchmove",function(f){var k=D(),I=k?n.scrollHeight-n.clientHeight:n.scrollWidth-n.clientWidth,S=w-M(f),N=k?n.scrollTop:n.scrollLeft,W=k&&n.style.overflowY==="scroll"||!k&&n.style.overflowX==="scroll";if(w=M(f),(S<0&&N>0||S>0&&N<I)&&T&&W)return E=!0;T=!1,Y(f),E=!1}),v.input(n,"touchend",function(){E=!1})}(d)})}}t.on("updated",q),t.on("optionsChanged",H),t.on("created",H),t.on("destroyed",v.purge)}function Dt(t){var i,e,c=null;function r(C,l,T){t.animator.active?a(C,l,T):requestAnimationFrame(function(){return a(C,l,T)})}function o(){r(!1,!1,e)}function a(C,l,T){var E=0,m=t.size,g=t.track.details;if(g&&i){var v=g.slides;i.forEach(function(V,_){if(C)!c&&l&&h(V,null,T),u(V,null,T);else{if(!v[_])return;var L=v[_].size*m;!c&&l&&h(V,L,T),u(V,v[_].distance*m-E,T),E+=L}})}}function y(C){return t.options.renderMode==="performance"?Math.round(C):C}function h(C,l,T){var E=T?"height":"width";l!==null&&(l=y(l)+"px"),C.style["min-"+E]=l,C.style["max-"+E]=l}function u(C,l,T){if(l!==null){l=y(l);var E=T?l:0;l="translate3d(".concat(T?0:l,"px, ").concat(E,"px, 0)")}C.style.transform=l,C.style["-webkit-transform"]=l}function z(){i&&(a(!0,!0,e),i=null),t.on("detailsChanged",o,!0)}function A(){r(!1,!0,e)}function x(){z(),e=t.options.vertical,t.options.disabled||t.options.renderMode==="custom"||(c=$(t.options.slides,"perView",null)==="auto",t.on("detailsChanged",o),(i=t.slides).length&&A())}t.on("created",x),t.on("optionsChanged",x),t.on("beforeOptionsChanged",function(){z()}),t.on("updated",A),t.on("destroyed",z)}function Vt(t,i){return function(e){var c,r,o,a,y,h=vt();function u(s){var M;Q(e.container,"reverse",(M=e.container,window.getComputedStyle(M,null).getPropertyValue("direction")!=="rtl"||s?null:"")),Q(e.container,"v",e.options.vertical&&!s?"":null),Q(e.container,"disabled",e.options.disabled&&!s?"":null)}function z(){A()&&E()}function A(){var s=null;if(a.forEach(function(D){D.matches&&(s=D.__media)}),s===c)return!1;c||e.emit("beforeOptionsChanged"),c=s;var M=s?o.breakpoints[s]:o;return e.options=F(F({},o),M),u(),_(),L(),g(),!0}function x(s){var M=dt(s);return(e.options.vertical?M.height:M.width)/e.size||1}function C(){return e.options.trackConfig.length}function l(s){for(var M in c=!1,o=F(F({},i),s),h.purge(),r=e.size,a=[],o.breakpoints||[]){var D=window.matchMedia(M);D.__media=M,a.push(D),h.add(D,"change",z)}h.add(window,"orientationchange",V),h.add(window,"resize",v),A()}function T(s){e.animator.stop();var M=e.track.details;e.track.init(s??(M?M.abs:0))}function E(s){T(s),e.emit("optionsChanged")}function m(s,M){if(s)return l(s),void E(M);_(),L();var D=C();g(),C()!==D?E(M):T(M),e.emit("updated")}function g(){var s=e.options.slides;if(typeof s=="function")return e.options.trackConfig=s(e.size,e.slides);for(var M=e.slides,D=M.length,q=typeof s=="number"?s:$(s,"number",D,!0),B=[],H=$(s,"perView",1,!0),b=$(s,"spacing",0,!0)/e.size||0,p=H==="auto"?b:b/H,d=$(s,"origin","auto"),n=0,w=0;w<q;w++){var f=H==="auto"?x(M[w]):1/H-b+p,k=d==="center"?.5-f/2:d==="auto"?0:d;B.push({origin:k,size:f,spacing:b}),n+=f}if(n+=b*(q-1),d==="auto"&&!e.options.loop&&H!==1){var I=0;B.map(function(S){var N=n-I;return I+=S.size+b,N>=1||(S.origin=1-N-(n>1?0:1-n)),S})}e.options.trackConfig=B}function v(){_();var s=e.size;e.options.disabled||s===r||(r=s,m())}function V(){v(),setTimeout(v,500),setTimeout(v,2e3)}function _(){var s=dt(e.container);e.size=(e.options.vertical?s.height:s.width)||1}function L(){e.slides=K(e.options.selector,e.container)}e.container=(y=K(t,document)).length?y[0]:null,e.destroy=function(){h.purge(),e.emit("destroyed"),u(!0)},e.prev=function(){e.moveToIdx(e.track.details.abs-1,!0)},e.next=function(){e.moveToIdx(e.track.details.abs+1,!0)},e.update=m,l(e.options)}}var Nt=function(t,i,e){try{return function(c,r){var o,a={};return o={emit:function(y){a[y]&&a[y].forEach(function(u){u(o)});var h=o.options&&o.options[y];h&&h(o)},moveToIdx:function(y,h,u){var z=o.track.idxToDist(y,h);if(z){var A=o.options.defaultAnimation;o.animator.start([{distance:z,duration:$(u||A,"duration",500),easing:$(u||A,"easing",function(x){return 1+--x*x*x*x*x})}])}},on:function(y,h,u){u===void 0&&(u=!1),a[y]||(a[y]=[]);var z=a[y].indexOf(h);z>-1?u&&delete a[y][z]:u||a[y].push(h)},options:c},function(){if(o.track=St(o),o.animator=It(o),r)for(var y=0,h=r;y<h.length;y++)(0,h[y])(o);o.track.init(o.options.initial||0),o.emit("created")}(),o}(i,pt([Vt(t,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),Dt,At,Lt],e||[],!0))}catch(c){console.error(c)}};const Ot={class:"relative"},qt={__name:"Base",props:{length:{type:Number,default:0},perView:{type:Number,default:3},spacing:{type:Number,default:16},autoplay:{type:Number,default:0},arrowStyle:{type:String,default:"right"},size:{type:String,default:"xl"},fullscreen:{type:Boolean,default:!1}},setup(t){const i=t,e=at(null),c=at(!0);let r=null,o=null;const a={loop:!0,mode:"free-snap",slides:{perView:i.perView,spacing:i.spacing},breakpoints:i.fullscreen?{}:{"(max-width: 1024px)":{slides:{perView:2,spacing:16}},"(max-width: 640px)":{slides:{perView:1,spacing:8}}}},y=()=>{r&&r.destroy(),Mt(()=>{r=new Nt(e.value,a),i.length>1?(c.value=!0,i.autoplay&&(r.on("created",h),r.on("dragStart",u),r.on("dragEnd",h),e.value.addEventListener("mouseover",u),e.value.addEventListener("mouseout",h))):c.value=!1})},h=()=>{o=zt(()=>{r&&r.next()},autoplay)},u=()=>{clearInterval(o)},z=()=>{r&&r.prev()},A=()=>{r&&r.next()},x=()=>{r&&r.update()};return bt(i,()=>{y()}),wt(()=>{y(),window.addEventListener("resize",x)}),yt(()=>{r&&r.destroy(),u(),window.removeEventListener("resize",x)}),(C,l)=>{const T=Tt;return Z(),tt("div",Ot,[xt("div",{ref_key:"slider",ref:e,class:ot(["keen-slider mx-auto",{"h-full":t.fullscreen}])},[ft(C.$slots,"default")],2),c.value?(Z(),tt("div",{key:0,dir:"ltr",class:ot({"flex gap-4 justify-end py-4":t.arrowStyle==="right","keen-arrow":t.arrowStyle==="center"})},[ut(T,{class:"keen-arrow-left",icon:"i-ri-arrow-left-s-line",size:t.size,color:"white",square:"",variant:"solid",ui:{rounded:"rounded-full"},onClick:l[0]||(l[0]=E=>z())},null,8,["size"]),ut(T,{icon:"i-ri-arrow-right-s-line",class:"keen-arrow-right",size:t.size,color:"white",square:"",variant:"solid",ui:{rounded:"rounded-full"},onClick:l[1]||(l[1]=E=>A())},null,8,["size"])],2)):kt("",!0)])}}};export{$t as _,qt as a};
