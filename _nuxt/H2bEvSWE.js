import{_ as T}from"./DH-5LqSd.js";import{r as $,bX as q,b3 as h,bx as s,bs as _,bq as w,br as e,bP as v,by as a,bz as b,bD as l,bQ as S,c1 as y,b_ as j}from"./B2zngJ72.js";import{w as I}from"./76uVBcax.js";import A from"./D1V226Kd.js";import{f as g}from"./MChP8smc.js";import{h as P}from"./BMkpGpKj.js";import{u as z}from"./BAysXWiO.js";import{a as D}from"./DiSl0k_O.js";import"./DxqHYnwt.js";import"./BLVB0qGI.js";import"./DdDBkiWh.js";const Q={key:0,class:"rounded-finsc overflow-hidden h-full w-full text-base bg-base-300 flex flex-col justify-between"},L={key:0,class:"flex-none h-[32px]"},O={class:"w-full relative flex justify-center"},E={class:"w-[180px] mx-auto relative"},M={class:"text-base-bg-300 absolute inset-0 origin-top-left",width:"360",height:"48",viewBox:"0 0 360 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scale(0.5)"}},U={class:"flex text-center gap-4 px-4 py-2"},Z={class:"flex justify-between w-full h-7 mx-2"},G={class:"overflow-auto flex-1 px-2 mt-2"},H={class:"text-center px-4 py-2"},R={class:"w-full p-1"},X={class:"flex justify-between px-2 font-semibold"},J={class:"text-green-500"},K={class:"font-normal text-sm bg-base-primary px-2 py-0.5 rounded-full"},W={class:"text-red-600"},dt={__name:"BoxStrength",props:{symbol:{type:String,default:""},local:{type:Boolean,default:!1},dataSI:{type:Object,default:()=>{}},dataTP:{type:Object,default:()=>{}}},async setup(x){let c,B;const r=x,o=$({}),V=z({baseURL:D().API_FINSC}),{data:C}=([c,B]=I(()=>q(()=>V.get(`/scta/hitprice?symbols=${r.symbol}`),{watch:[r.symbol]},"$Nrs67yTbOA")),c=await c,B(),c);return h(()=>r.dataSI,async()=>{o.value=P(r.dataSI,r.dataTP)}),h(()=>r.dataTP,async()=>{o.value=P(r.dataSI,r.dataTP)}),h(()=>C.value,async d=>{try{const t=d==null?void 0:d.data[0],u=((t==null?void 0:t.foreignBuy)||0)/10,f=((t==null?void 0:t.foreignSell)||0)/10,n=((t==null?void 0:t.reference)||0)/1e3,i=((t==null?void 0:t.closePrice)||0)/1e3,m=((t==null?void 0:t.closeVol)||0)/10,p={buyForeignQtty:u,sellForeignQtty:f,basicPrice:n,matchPrice:i,matchQtty:m},F=[{price:((t==null?void 0:t.offerPrice1)||0)/1e3,qtty:(t==null?void 0:t.offerVol1)||0},{price:((t==null?void 0:t.offerPrice2)||0)/1e3,qtty:(t==null?void 0:t.offerVol2)||0},{price:((t==null?void 0:t.offerPrice3)||0)/1e3,qtty:(t==null?void 0:t.offerVol3)||0}],k=[{price:((t==null?void 0:t.bidPrice1)||0)/1e3,qtty:(t==null?void 0:t.bidVol1)||0},{price:((t==null?void 0:t.bidPrice2)||0)/1e3,qtty:(t==null?void 0:t.bidVol2)||0},{price:((t==null?void 0:t.bidPrice3)||0)/1e3,qtty:(t==null?void 0:t.bidVol3)||0}],N={ask:F,bid:k};o.value=P(p,N)}catch(t){console.log(t)}},{deep:!0}),(d,t)=>{const u=T,f=j;return s(o)&&s(o).sumBuy?(_(),w("div",Q,[x.local?v("",!0):(_(),w("div",L,[e("div",O,[e("div",E,[(_(),w("svg",M,t[0]||(t[0]=[e("path",{d:"M357.237 2.82376e-05C398.658 2.82376e-05 -39.9387 -3.52971e-05 2.95743 2.82376e-05C45.8536 9.17724e-05 66.301 48 115.04 48H251.002C304.338 48 315.815 2.82376e-05 357.237 2.82376e-05Z",fill:"currentColor"},null,-1)]))),t[1]||(t[1]=e("div",{class:"bg-base-primary text-white rounded-full relative text-sm text-center px-2 w-24 mx-auto"}," 3 Bước Giá ",-1))])])])),a(f,{mode:"hover",popper:{placement:"left"}},{panel:b(()=>{var n,i;return[e("div",U,[e("div",null,[t[2]||(t[2]=e("div",null,"Tổng mua",-1)),e("div",null,l(s(g)((n=s(o))==null?void 0:n.sumBuy)),1)]),e("div",null,[t[3]||(t[3]=e("div",null,"Tổng bán",-1)),e("div",null,l(s(g)((i=s(o))==null?void 0:i.sumSell)),1)])])]}),default:b(()=>{var n,i;return[e("div",Z,[e("div",{class:"bg-gradient-to-l from-green-400/80 border-green-400 text-center py-1",style:S({width:((n=s(o))==null?void 0:n.sumBuyPercentage)+"%"})},[a(u,{src:"/static/svg/bull.svg",class:"h-5 mx-auto",alt:"Bull"})],4),e("div",{class:"bg-gradient-to-r from-red-400/80 border-red-400 text-center py-1",style:S({width:((i=s(o))==null?void 0:i.sumSellPercentage)+"%"})},[a(u,{src:"/static/svg/bear.svg",class:"h-5 mx-auto",alt:"Bear"})],4)])]}),_:1}),e("div",G,[a(A,{mode:"table",list:s(o).list},null,8,["list"])]),a(f,{mode:"hover",popper:{placement:"left"}},{panel:b(()=>{var n,i,m,p;return[e("div",H,[t[4]||(t[4]=y(" Nước ngoài mua : Nước ngoài bán ")),e("div",null,l(`${s(g)((n=s(o))==null?void 0:n.buyForeign)} (${(i=s(o))==null?void 0:i.buyForeignPercentage}%) : ${s(g)((m=s(o))==null?void 0:m.sellForeign)} (${(p=s(o))==null?void 0:p.sellForeignPercentage}%)`),1),t[5]||(t[5]=e("div",null,"- - - - - -",-1)),t[6]||(t[6]=y(" Phần trăm biểu thị tỷ lệ mua bán của khối ngoại ")),t[7]||(t[7]=e("div",null,"(tính cả thỏa thuận) trên tổng khối lượng khớp.",-1))])]}),default:b(()=>{var n,i;return[e("div",R,[e("div",X,[e("div",null,[t[8]||(t[8]=y(" Mua ")),e("span",J,l((n=s(o))==null?void 0:n.buyForeignPercentage)+"%",1)]),e("div",K,l(x.symbol),1),e("div",null,[e("span",W,l((i=s(o))==null?void 0:i.sellForeignPercentage)+"%",1),t[9]||(t[9]=y(" Bán "))])])])]}),_:1})])):v("",!0)}}};export{dt as default};
