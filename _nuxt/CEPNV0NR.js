import{r as c,bb as C,b3 as I,b7 as O,b8 as m}from"./B2zngJ72.js";import{a as n}from"./2DHyWFFj.js";const P=()=>{var t=new Date().getTime(),e="yxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){var r=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(s=="x"?r:r&3|8).toString(16)});return e},F=(t,e)=>{let s;return function(){clearTimeout(s),s=setTimeout(()=>t.apply(this,arguments),e)}},w=t=>JSON.parse(JSON.stringify(t)),_=t=>t&&typeof t=="object"&&Object.keys(t).length!==0&&!Array.isArray(t),$=t=>t!==null&&Array.isArray(t)&&t.length>0&&!t.every(e=>!_(e)),J=(t,e=!1)=>{if(!t)return"";let r=t.split(/(?=[A-Z])/).map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return e?r.toLowerCase():r},k=t=>{const e=t.replace(/([a-z])([A-Z])/g,"$1 $2");return e.charAt(0).toUpperCase()+e.slice(1)},D=t=>t?String(t||"").replace(/(\d)(?=(\d{3})+\b)/g,"$1,"):0,j=t=>t?parseFloat(String(t).replace(/,/g,"")):0,K=(t,e=!1)=>{if(t===void 0||typeof t!="number"||isNaN(t))return"";const s={b:e?" tỷ":"b",m:e?" triệu":"m",k:e?" ngàn":"k"};return t>=1e9?(t/1e9).toFixed(0)+s.b:t>=1e6?(t/1e6).toFixed(0)+s.m:t>=1e3?(t/1e3).toFixed(0)+s.k:t.toString()},U=async t=>{try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(e){return console.error("Error fetching data:",e),{}}};function p(t,e=null){const s=c(e);return C(()=>{const r=localStorage.getItem(t);r&&(s.value=JSON.parse(r)),I(s,o=>{o==null?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(o))},{deep:!0})}),s}const z=O("finsc",()=>{const t=p("auth",{}),e=a=>{t.value=a||{}},s=p("symbol","FPT"),r=a=>{s.value=a||"FPT"},o=m(n().COOKIE_NAME+"_symbols",{default:()=>["FPT","HPG","TCB","MSN","VIC","VND"]}),x=a=>{o.value=[...a]},u=m(n().COOKIE_NAME+"_modules",{maxAge:n().COOKIE_EXPIRES,sameSite:!0,default:()=>[]}),y=a=>{u.value.push(a)},g=a=>{u.value=[...a]},l=c({}),h=a=>{l.value={...l.value,...a}},i=c([]),S=a=>{i.value={...i.value,...a}},d=c({canslim_style:{},canslim_value:{},data2:{},data3:{}});return{auth:t,setAuth:e,symbol:s,setSymbol:r,syms:o,setSyms:x,modules:u,addModules:y,setModules:g,dataSI:l,setDataSI:h,dataTP:i,setDataTP:S,tutru:d,fetchTutru:async a=>{const f=await $fetch(`${n().API_URI}/tutru?sb=${s.value}`);if(f){const{canslim_style:b,canslim_value:v,data2:T,data3:A}=f;d.value={canslim_style:b[0],canslim_value:v[0],data2:T[0],data3:A[0]}}}}});export{P as a,z as b,w as c,F as d,k as e,D as f,U as g,$ as h,_ as i,K as j,j as p,J as t,p as u};
