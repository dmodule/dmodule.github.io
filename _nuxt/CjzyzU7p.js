import{bL as D,bs as s,bq as u,bQ as E,br as t,bu as $,r as a,bb as M,bU as z,bx as e,bP as V,bW as y,by as l,bY as Z,a_ as B,ba as ne,cp as le,bz as g,bA as q,bI as L,bB as F,bC as ae,bD as J,c1 as R,bJ as ie,b$ as re,b_ as ce,cy as me}from"./CJ_CGJpm.js";import{c as ue,b as de,u as pe,j as fe}from"./Ul5rOUWU.js";import{e as P}from"./BFk7B0hC.js";import ve from"./BYGDwMNr.js";import _e from"./BbhNKAoB.js";import be from"./CSrnvSjd.js";import he from"./Cr-a0Ipo.js";import ge from"./D4Y38L3y.js";import xe from"./Cm1ZhBn7.js";import ye from"./DVtqCVj4.js";import"./CvURW2WX.js";import"./BLVB0qGI.js";import"./DdDBkiWh.js";import"./CMYjgM1t.js";import"./ChsSowZC.js";import"./BLzfW2ux.js";import"./DYgW2iG0.js";import"./BMCXCw7J.js";import"./DOh2-wJO.js";import"./C7OMVk2J.js";import"./DxqHYnwt.js";import"./CcHYH2cW.js";import"./-Pa_sf8E.js";import"./CtThB5zF.js";const Se={props:{scale:{type:Number,default:1}},computed:{width(){return 360*this.scale}}};function we(b,p,f,n,c,h){return s(),u("div",{class:"flex-none relative flex justify-center",style:E({width:h.width+"px"})},[(s(),u("svg",{class:"text-base-bg-300 absolute inset-0 origin-top-left",style:E({transform:`scale(${f.scale})`}),width:"360",height:"48",viewBox:"0 0 360 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p[0]||(p[0]=[t("path",{d:"M357.237 2.82376e-05C398.658 2.82376e-05 -39.9387 -3.52971e-05 2.95743 2.82376e-05C45.8536 9.17724e-05 66.301 48 115.04 48H251.002C304.338 48 315.815 2.82376e-05 357.237 2.82376e-05Z",fill:"currentColor"},null,-1)]),4)),$(b.$slots,"default")],4)}const Ce=D(Se,[["render",we]]),ke={key:0,class:"absolute inset-0"},Te={key:0,class:"absolute inset-0"},$e={__name:"SplitVer",props:{topStyle:{type:String,default:"flex-1 h-96 "},bottomStyle:{type:String,default:"flex-none"}},emits:["onCommand"],setup(b,{emit:p}){const f=a(null),n=a(200),c=a(!1),h=p,i=a(!1),m=()=>{i.value=!i.value,n.value=i.value?"30%":"36px",h("onCommand",i.value)},S=w=>{c.value=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",d)},v=w=>{if(c.value){const r=f.value.offsetHeight-w.clientY;n.value=Math.max(100,r)+"px"}},d=()=>{c.value=!1,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",d)};return M(()=>{m(),document.addEventListener("mouseup",d)}),z(()=>{document.removeEventListener("mouseup",d),document.removeEventListener("mousemove",v)}),(w,I)=>{const r=Z;return s(),u("div",{ref_key:"splitVer",ref:f,class:"split-ver flex flex-col"},[t("div",{class:y(["relative",b.topStyle])},[$(w.$slots,"top"),e(c)?(s(),u("div",ke)):V("",!0)],2),t("div",{class:y(["relative",b.bottomStyle]),style:E({height:e(n)})},[t("button",{class:"relative z-20 block w-full h-0 border-t-4 border-base-neutral hover:border-yellow-500 outline-none",onMousedown:S},null,32),t("button",{onClick:m,class:y(["absolute z-10 left-1/2 -translate-x-1/2 mt-3 rounded-full w-10 h-2 leading-0 hover:bg-yellow-600 hover:text-black outline-none",{"bg-yellow-500 text-black":!e(i)}])},[l(r,{name:"ri-arrow-up-s-line",class:y(["h-4 w-4 -mt-1 block mx-auto",{"rotate-180":e(i)}])},null,8,["class"])],2),$(w.$slots,"bottom"),e(c)?(s(),u("div",Te)):V("",!0)],6)],512)}}},Ve={key:0,class:"absolute inset-0"},Ie={key:0,class:"absolute inset-0"},Le={__name:"SplitHor",props:{leftStyle:{type:String,default:"flex-1"},rightStyle:{type:String,default:"flex-none"}},setup(b){const p=a(null),f=a(256),n=a(!1),c=m=>{n.value=!0,document.addEventListener("mousemove",h),document.addEventListener("mouseup",i)},h=m=>{if(n.value&&p.value){const v=p.value.offsetWidth-m.clientX;f.value=Math.max(230,v)}},i=()=>{n.value=!1,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",i)};return M(()=>{document.addEventListener("mouseup",i)}),z(()=>{document.removeEventListener("mouseup",i),document.removeEventListener("mousemove",h)}),(m,S)=>(s(),u("div",{ref_key:"splitHor",ref:p,class:"split-hor flex flex-row"},[t("div",{class:y(["relative",b.leftStyle])},[$(m.$slots,"left",{},void 0,!0),e(n)?(s(),u("div",Ve)):V("",!0)],2),t("div",{class:y(["relative",b.rightStyle]),style:E({width:e(f)+"px"})},[t("button",{class:"z-10 absolute w-0 h-full border-l-4 border-base-neutral hover:border-yellow-500 outline-none",onMousedown:c},null,32),$(m.$slots,"right",{},void 0,!0),e(n)?(s(),u("div",Ie)):V("",!0)],6)],512))}},Pe=D(Le,[["__scopeId","data-v-66a786ef"]]),Ee={class:"rounded-finsc overflow-hidden h-full w-full text-base bg-base-300 flex flex-col justify-between"},Be={class:"flex justify-between items-start relative z-10"},De={class:"max-w-[calc(50%-155px)] flex-1 flex items-center p-1"},Me={class:"text-sm bg-base-300"},ze={class:"p-3"},He={class:"w-full overflow-hidden -mr-6"},Ue=["onClick"],We={class:"bg-white/5 rounded-full relative flex items-center text-center py-1 gap-0 divide-x divide-dashed divide-base-neutral"},Ne={class:"px-3 flex items-center"},qe={class:"px-3 flex items-center"},Fe={class:"max-w-[calc(50%-155px)] flex-1 p-2 ml-2"},Je={key:0,class:"flex items-center"},Re={class:"flex-none"},Ze={class:"flex-none h-56 mb-2"},je={class:"flex-1 overflow-hidden max-h-full relative"},Ge={__name:"BoxTV",setup(b){const p=["FPT","HPG","TCB","MSN","VIC","MWG","VNM","VND","DGC","DPM","BSR"],{emit:f}=ue(),n=a(1),c=a(""),h=a(null),i=a(null),m=a(!1),S=a(!1),v=de(),d=B(()=>v.syms),w=B(()=>p.filter(o=>!d.value.includes(o))),I=B(()=>v.auth),r=pe("symbolLocal","FPT"),C=a({}),k=a({}),H=o=>{r.value===o.symbol&&(C.value=o)},U=o=>{r.value===o.symbol&&(k.value=o)},W=o=>{C.value={},k.value={},f("eSymbol",{symbol:o}),r.value=o,i.value.updateSymbol(o),n.value++},j=o=>{d.value.includes(o)||d.value.push(o),v.setSyms(d.value)},G=o=>{const _=d.value.filter(T=>T!==o);v.setSyms(_),n.value++},N=a([]);return M(async()=>{f("eSymbol",{symbol:r.value}),N.value=await fe("/static/tv/data/symbol.json")}),ne(()=>{P.on("eSI",H),P.on("eTP",U)}),z(()=>{P.off("eSI",H),P.off("eTP",U)}),(o,_)=>{const T=Z,X=ie,Y=re,A=ce,O=le("Vue3Marquee"),Q=me,K=Ce,ee=$e,te=Pe;return s(),u("div",Ee,[t("div",Be,[t("div",De,[l(A,{popper:{placement:"bottom-start"}},{panel:g(()=>[t("div",Me,[t("div",ze,[l(Y,{modelValue:e(c),"onUpdate:modelValue":_[0]||(_[0]=x=>q(c)?c.value=x:null),icon:"i-ri-search-line",size:"sm",color:"white",trailing:!1,placeholder:"Search..."},null,8,["modelValue"])]),l(ye,{search:e(c),items:e(N),onChangeSymbol:j},null,8,["search","items"])])]),default:g(()=>[l(X,{popper:{placement:"right"},text:"Thêm mã quan tâm"},{default:g(()=>[t("button",{class:y(["bg-white/5 hover:bg-base-100 rounded-full p-2 flex items-center",{"bg-base-300":e(w).length===0}])},[l(T,{name:"i-ri-add-line",size:"20"})],2)]),_:1})]),_:1}),t("div",He,[(s(),L(O,{duration:30,key:e(n)},{default:g(()=>[(s(!0),u(F,null,ae(e(d),(x,oe)=>(s(),u("div",{key:oe,class:y(["rounded-full px-3 py-1 border border-transparent whitespace-nowrap flex items-center mr-3",e(r)===x?"bg-base-100":"border-base-neutral"])},[t("span",{class:"cursor-pointer hover:text-base-primary",onClick:se=>W(x)},J(x),9,Ue),l(T,{name:"i-ri-close-line",size:"16",class:"ml-1 cursor-pointer hover:text-base-secondary",onClick:se=>G(x)},null,8,["onClick"])],2))),128))]),_:1}))])]),l(K,{scale:.86},{default:g(()=>[t("div",We,[t("div",Ne,[_[3]||(_[3]=R(" 65 ")),l(T,{name:"i-ri-wallet-3-line",class:"ml-1"})]),t("div",qe,[l(Q,{modelValue:e(m),"onUpdate:modelValue":_[1]||(_[1]=x=>q(m)?m.value=x:null),size:"xl","on-icon":"i-ri-exchange-dollar-line","off-icon":"i-ri-funds-line",ui:{inactive:"bg-yellow-500",icon:{off:"text-yellow-500"}}},null,8,["modelValue"])])])]),_:1}),t("div",Fe,[e(I).name?(s(),u("div",Je,[l(T,{name:"i-ri-lock-line",class:"bg-base-primary text-xl mx-1"}),R(" Xin chào ! "+J(e(I).name),1)])):V("",!0)])]),l(te,{class:"flex-1 sm:flex max-h-[calc(100%-41px)]","right-style":"flex-none flex flex-col w-full w-64 cursor-pointer"},{left:g(()=>[l(ee,{class:"flex-1 flex flex-col sm:h-full",onOnCommand:_[2]||(_[2]=()=>S.value=!e(S))},{top:g(()=>[l(ve,{ref_key:"tvChart",ref:i,symbol:e(r),dataSI:e(C),dataTP:e(k),"onUpdate:symbol":W},null,8,["symbol","dataSI","dataTP"]),l(_e,{symbol:e(r),dataSI:e(C),dataTP:e(k)},null,8,["symbol","dataSI","dataTP"])]),bottom:g(()=>[t("div",Re,[(s(),L(ge,{key:e(n),tvChartWrap:e(h),commandToggle:e(S)},null,8,["tvChartWrap","commandToggle"]))])]),_:1})]),right:g(()=>[e(m)?(s(),L(be,{key:0,symbol:e(r),dataSI:e(C),dataTP:e(k)},null,8,["symbol","dataSI","dataTP"])):(s(),u(F,{key:1},[t("div",Ze,[(s(),L(he,{key:e(n),local:"",symbol:e(r),dataSI:e(C),dataTP:e(k)},null,8,["symbol","dataSI","dataTP"]))]),t("div",je,[l(xe,{symbol:e(r),style:{"border-radius":"0 !important"}},null,8,["symbol"])])],64))]),_:1})])}}},ht=D(Ge,[["__scopeId","data-v-c64e0948"]]);export{ht as default};
