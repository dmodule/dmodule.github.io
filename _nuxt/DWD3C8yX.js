import{_ as $}from"./BAmsBZJ9.js";import{r as z,i as M,u as N,j as t,c as _,a as n,b as i,w as c,m as P,n as u,F as S,k as U,l as j,o as f,p as A,q as B,s as Z}from"./Dw7e9vQt.js";import L from"./852UPlvE.js";import{u as R,a as q,w as D,_ as E,b as F,i as I,m as O,c as T,d as G}from"./CURvVg9w.js";import"./DdlcJ5AR.js";import"./Bt8MpYHu.js";import"./DmipE0A1.js";import"./CXbzCM5O.js";import"./CnvLM5f7.js";import"./Dk21KoIT.js";import"./B1pzah4W.js";import"./BrAu9Jma.js";import"./B08LnwSc.js";import"./CxIZtCgj.js";import"./DF3kEfq4.js";import"./B_QQ5qjv.js";import"./vOcH1yEy.js";import"./BLhWR13V.js";import"./2xpBITlk.js";import"./BkLV4VMA.js";import"./mBlUX5cK.js";import"./rWpcIAI2.js";import"./34G0kqrt.js";import"./B62WhrVd.js";import"./qfgrkre2.js";import"./CB5-yZMB.js";import"./UfTuTcbi.js";const H={class:"relative"},J={class:"sidebar-item"},K={class:"grid-stack min-h-screen"},Q=["gs-x","gs-y","gs-w","gs-h","gs-id","id"],W={class:"grid-stack-item-content w-full flex items-stretch"},zt={__name:"finsc",async setup(X){let m,g;const{isMounted:v}=R(),a=q(),y=z("finsc"),{data:e,status:Y}=([m,g]=D(()=>F("pages",()=>$fetch(`/api/pages/${y.value}`))),m=await m,g(),m),b=l=>{const s=l.split("|");let d=3,p=2;if(s[2]){const r=s[2].split("x");d=r[0],p=r[1]}a.add({name:s[0],info:s[1],w:d,h:p})};return M(()=>{if(I(e.value)&&v.value){const{modules:l}=e.value,s=a.items.length>0?[]:O(l,!1);A(()=>{a.setup(s,"id")})}}),N({script:[{src:"/static/tv/charting_library/charting_library.standalone.js",rel:"preconnect",tagPosition:"bodyClose"},{src:"/static/tv/data/bundle.js",tagPosition:"bodyClose"}]}),(l,s)=>{const d=$,p=B,r=L,k=T,w=E,C=G,V=Z;return t(e)&&t(e).theme?(f(),_("div",{key:0,class:u(["min-h-screen bg-base-100",{"h-screen flex flex-col":t(e).theme.type==="Side"}])},[n("div",{id:"main-wrap",class:u({"flex-1 flex flex-row overflow-y-hidden":t(e).theme.type==="Side","flex-row-reverse":t(e).theme.sideRight})},[i(w,P(t(e).theme,{items:t(e).menus}),{logo:c(()=>[i(d,{src:"/static/logo.png",class:"w-10 h-[2.2rem]"})]),action:c(()=>[i(k,{onOnAdd:b},{default:c(()=>[n("div",H,[n("div",J,[i(r,{popper:{placement:"right"},text:"Modules Chart"},{default:c(()=>[i(p,{name:"i-ri-layout-masonry-line",class:"text-2xl"})]),_:1}),s[0]||(s[0]=n("span",{class:"ml-4 sidebar-text text-sm font-medium"},"Modules",-1))])])]),_:1})]),_:1},16,["items"]),n("main",{id:"main",class:u(["bg-base-100",[t(e).theme.type==="Side"?"flex-1 overflow-y-auto":"",t(e).className]])},[n("div",K,[(f(!0),_(S,null,U(t(a).items,(o,h)=>(f(),_("div",{class:"grid-stack-item","gs-x":o.x,"gs-y":o.y,"gs-w":o.w,"gs-h":o.h,"gs-id":o.id,id:o.id,key:o.id},[n("div",W,[i(C,{modelValue:t(a).items[h],"onUpdate:modelValue":x=>t(a).items[h]=x},null,8,["modelValue","onUpdate:modelValue"]),i(r,{text:"Remove",class:"grid-stack-item-close z-10 absolute top-0.5 right-0.5 hidden"},{default:c(()=>[i(V,{onClick:x=>t(a).remove(o),icon:"i-ri-close-line",size:"2xs",color:"red",variant:"soft",square:"",ui:{rounded:"rounded-full"}},null,8,["onClick"])]),_:2},1024)])],8,Q))),128))])],2)],2)],2)):j("",!0)}}};export{zt as default};
