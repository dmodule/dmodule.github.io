import{_ as wt,o as tt,c as et,K as pt,aX as bt,r as ot,m as xt,h as kt,T as yt,a as Mt,s as ut,q as Q,b as st,H as Tt,B as zt}from"./Bp7PwLku.js";const Ct={},_t={class:"keen-slider__slide"};function Et(t,i){return tt(),et("div",_t,[pt(t.$slots,"default")])}const Ht=wt(Ct,[["render",Et]]);var j=function(){return j=Object.assign||function(t){for(var i,e=1,o=arguments.length;e<o;e++)for(var l in i=arguments[e])Object.prototype.hasOwnProperty.call(i,l)&&(t[l]=i[l]);return t},j.apply(this,arguments)};function vt(t,i,e){for(var o,l=0,a=i.length;l<a;l++)!o&&l in i||(o||(o=Array.prototype.slice.call(i,0,l)),o[l]=i[l]);return t.concat(o||Array.prototype.slice.call(i))}function ct(t){return Array.prototype.slice.call(t)}function dt(t,i){var e=Math.floor(t);return e===i||e+1===i?t:i}function lt(){return Date.now()}function Z(t,i,e){if(i="data-keen-slider-"+i,e===null)return t.removeAttribute(i);t.setAttribute(i,e||"")}function J(t,i){return i=i||document,typeof t=="function"&&(t=t(i)),Array.isArray(t)?t:typeof t=="string"?ct(i.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?ct(t):[]}function Y(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function U(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function mt(){var t=[];return{add:function(i,e,o,l){i.addListener?i.addListener(o):i.addEventListener(e,o,l),t.push([i,e,o,l])},input:function(i,e,o,l){this.add(i,e,function(a){return function(r){r.nativeEvent&&(r=r.nativeEvent);var h=r.changedTouches||[],x=r.targetTouches||[],u=r.detail&&r.detail.x?r.detail:null;return a({id:u?u.identifier?u.identifier:"i":x[0]?x[0]?x[0].identifier:"e":"d",idChanged:u?u.identifier?u.identifier:"i":h[0]?h[0]?h[0].identifier:"e":"d",raw:r,x:u&&u.x?u.x:x[0]?x[0].screenX:u?u.x:r.pageX,y:u&&u.y?u.y:x[0]?x[0].screenY:u?u.y:r.pageY})}}(o),l)},purge:function(){t.forEach(function(i){i[0].removeListener?i[0].removeListener(i[2]):i[0].removeEventListener(i[1],i[2],i[3])}),t=[]}}}function it(t,i,e){return Math.min(Math.max(t,i),e)}function P(t){return(t>0?1:0)-(t<0?1:0)||+t}function ft(t){var i=t.getBoundingClientRect();return{height:dt(i.height,t.offsetHeight),width:dt(i.width,t.offsetWidth)}}function q(t,i,e,o){var l=t&&t[i];return l==null?e:o&&typeof l=="function"?l():l}function $(t){return Math.round(1e6*t)/1e6}function St(t){var i,e,o,l,a,r;function h(M){r||(r=M),x(!0);var C=M-r;C>o&&(C=o);var v=l[e];if(v[3]<C)return e++,h(M);var T=v[2],_=v[4],m=v[0],g=v[1]*(0,v[5])(_===0?1:(C-T)/_);if(g&&t.track.to(m+g),C<o)return z();r=null,x(!1),u(null),t.emit("animationEnded")}function x(M){i.active=M}function u(M){i.targetIdx=M}function z(){var M;M=h,a=window.requestAnimationFrame(M)}function L(){var M;M=a,window.cancelAnimationFrame(M),x(!1),u(null),r&&t.emit("animationStopped"),r=null}return i={active:!1,start:function(M){if(L(),t.track.details){var C=0,v=t.track.details.position;e=0,o=0,l=M.map(function(T){var _,m=Number(v),g=(_=T.earlyExit)!==null&&_!==void 0?_:T.duration,p=T.easing,V=T.distance*p(g/T.duration)||0;v+=V;var E=o;return o+=g,C+=V,[m,T.distance,E,o,T.duration,p]}),u(t.track.distToIdx(C)),z(),t.emit("animationStarted")}},stop:L,targetIdx:null}}function At(t){var i,e,o,l,a,r,h,x,u,z,L,M,C,v,T=1/0,_=[],m=null,g=0;function p(f){H(g+f)}function V(f){var c=E(g+f).abs;return y(c)?c:null}function E(f){var c=Math.floor(Math.abs($(f/e))),n=$((f%e+e)%e);n===e&&(n=0);var b=P(f),d=h.indexOf(vt([],h).reduce(function(S,A){return Math.abs(A-n)<Math.abs(S-n)?A:S})),k=d;return b<0&&c++,d===r&&(k=0,c+=b>0?1:-1),{abs:k+c*r*b,origin:d,rel:k}}function I(f,c,n){var b;if(c||!W())return s(f,n);if(!y(f))return null;var d=E(n??g),k=d.abs,S=f-d.rel,A=k+S;b=s(A);var O=s(A-r*P(S));return(O!==null&&Math.abs(O)<Math.abs(b)||b===null)&&(b=O),$(b)}function s(f,c){if(c==null&&(c=$(g)),!y(f)||f===null)return null;f=Math.round(f);var n=E(c),b=n.abs,d=n.rel,k=n.origin,S=N(f),A=(c%e+e)%e,O=h[k],R=Math.floor((f-(b-d))/r)*e;return $(O-A-O+h[S]+R+(k===r?e:0))}function y(f){return D(f)===f}function D(f){return it(f,u,z)}function W(){return l.loop}function N(f){return(f%r+r)%r}function H(f){var c;c=f-g,_.push({distance:c,timestamp:lt()}),_.length>6&&(_=_.slice(-6)),g=$(f);var n=w().abs;if(n!==m){var b=m!==null;m=n,b&&t.emit("slideChanged")}}function w(f){var c=f?null:function(){if(r){var n=W(),b=n?(g%e+e)%e:g,d=(n?g%e:g)-a[0][2],k=0-(d<0&&n?e-Math.abs(d):d),S=0,A=E(g),O=A.abs,R=A.rel,K=a[R][2],G=a.map(function(X,ht){var B=k+S;(B<0-X[0]||B>1)&&(B+=(Math.abs(B)>e-1&&n?e:0)*P(-B));var nt=ht-R,rt=P(nt),F=nt+O;n&&(rt===-1&&B>K&&(F+=r),rt===1&&B<K&&(F-=r),L!==null&&F<L&&(B+=e),M!==null&&F>M&&(B-=e));var at=B+X[0]+X[1],gt=Math.max(B>=0&&at<=1?1:at<0||B>1?0:B<0?Math.min(1,(X[0]+B)/X[0]):(1-B)/X[0],0);return S+=X[0]+X[1],{abs:F,distance:l.rtl?-1*B+1-X[0]:B,portion:gt,size:X[0]}});return O=D(O),R=N(O),{abs:D(O),length:o,max:v,maxIdx:z,min:C,minIdx:u,position:g,progress:n?b/e:g/o,rel:R,slides:G,slidesLength:e}}}();return i.details=c,t.emit("detailsChanged"),c}return i={absToRel:N,add:p,details:null,distToIdx:V,idxToDist:I,init:function(f){if(function(){if(l=t.options,a=(l.trackConfig||[]).map(function(d){return[q(d,"size",1),q(d,"spacing",0),q(d,"origin",0)]}),r=a.length){e=$(a.reduce(function(d,k){return d+k[0]+k[1]},0));var n,b=r-1;o=$(e+a[0][2]-a[b][0]-a[b][2]-a[b][1]),h=a.reduce(function(d,k){if(!d)return[0];var S=a[d.length-1],A=d[d.length-1]+(S[0]+S[2])+S[1];return A-=k[2],d[d.length-1]>A&&(A=d[d.length-1]),A=$(A),d.push(A),(!n||n<A)&&(x=d.length-1),n=A,d},null),o===0&&(x=0),h.push($(e))}}(),!r)return w(!0);var c;(function(){var n=t.options.range,b=t.options.loop;L=u=b?q(b,"min",-1/0):0,M=z=b?q(b,"max",T):x;var d=q(n,"min",null),k=q(n,"max",null);d!==null&&(u=d),k!==null&&(z=k),C=u===-1/0?u:t.track.idxToDist(u||0,!0,0),v=z===T?z:I(z,!0,0),k===null&&(M=z),q(n,"align",!1)&&z!==T&&a[N(z)][2]===0&&(v-=1-a[N(z)][0],z=V(v-g)),C=$(C),v=$(v)})(),c=f,Number(c)===c?p(s(D(f))):w()},to:H,velocity:function(){var f=lt(),c=_.reduce(function(n,b){var d=b.distance,k=b.timestamp;return f-k>200||(P(d)!==P(n.distance)&&n.distance&&(n={distance:0,lastTimestamp:0,time:0}),n.time&&(n.distance+=d),n.lastTimestamp&&(n.time+=k-n.lastTimestamp),n.lastTimestamp=k),n},{distance:0,lastTimestamp:0,time:0});return c.distance/c.time||0}}}function It(t){var i,e,o,l,a,r,h,x;function u(m){return 2*m}function z(m){return it(m,h,x)}function L(m){return 1-Math.pow(1-m,3)}function M(){return o?t.track.velocity():0}function C(){_();var m=t.options.mode==="free-snap",g=t.track,p=M();l=P(p);var V=t.track.details,E=[];if(p||!m){var I=v(p),s=I.dist,y=I.dur;if(y=u(y),s*=l,m){var D=g.idxToDist(g.distToIdx(s),!0);D&&(s=D)}E.push({distance:s,duration:y,easing:L});var W=V.position,N=W+s;if(N<a||N>r){var H=N<a?a-W:r-W,w=0,f=p;if(P(H)===l){var c=Math.min(Math.abs(H)/Math.abs(s),1),n=function(k){return 1-Math.pow(1-k,1/3)}(c)*y;E[0].earlyExit=n,f=p*(1-c)}else E[0].earlyExit=0,w+=H;var b=v(f,100),d=b.dist*l;t.options.rubberband&&(E.push({distance:d,duration:u(b.dur),easing:L}),E.push({distance:-d+w,duration:500,easing:L}))}t.animator.start(E)}else t.moveToIdx(z(V.abs),!0,{duration:500,easing:function(k){return 1+--k*k*k*k*k}})}function v(m,g){g===void 0&&(g=1e3);var p=147e-9+(m=Math.abs(m))/g;return{dist:Math.pow(m,2)/p,dur:m/p}}function T(){var m=t.track.details;m&&(a=m.min,r=m.max,h=m.minIdx,x=m.maxIdx)}function _(){t.animator.stop()}t.on("updated",T),t.on("optionsChanged",T),t.on("created",T),t.on("dragStarted",function(){o=!1,_(),i=e=t.track.details.abs}),t.on("dragChecked",function(){o=!0}),t.on("dragEnded",function(){var m=t.options.mode;m==="snap"&&function(){var g=t.track,p=t.track.details,V=p.position,E=P(M());(V>r||V<a)&&(E=0);var I=i+E;p.slides[g.absToRel(I)].portion===0&&(I-=E),i!==e&&(I=e),P(g.idxToDist(I,!0))!==E&&(I+=E),I=z(I);var s=g.idxToDist(I,!0);t.animator.start([{distance:s,duration:500,easing:function(y){return 1+--y*y*y*y*y}}])}(),m!=="free"&&m!=="free-snap"||C()}),t.on("dragged",function(){e=t.track.details.abs})}function Lt(t){var i,e,o,l,a,r,h,x,u,z,L,M,C,v,T,_,m,g,p=mt();function V(w){if(r&&x===w.id){var f=y(w);if(u){if(!s(w))return I(w);z=f,u=!1,t.emit("dragChecked")}if(_)return z=f;Y(w);var c=function(b){if(m===-1/0&&g===1/0)return b;var d=t.track.details,k=d.length,S=d.position,A=it(b,m-S,g-S);if(k===0)return 0;if(!t.options.rubberband)return A;if(S<=g&&S>=m||S<m&&e>0||S>g&&e<0)return b;var O=(S<m?S-m:S-g)/k,R=l*k,K=Math.abs(O*R),G=Math.max(0,1-K/a*2);return G*G*b}(h(z-f)/l*o);e=P(c);var n=t.track.details.position;(n>m&&n<g||n===m&&e>0||n===g&&e<0)&&U(w),L+=c,!M&&Math.abs(L*l)>5&&(M=!0),t.track.add(c),z=f,t.emit("dragged")}}function E(w){!r&&t.track.details&&t.track.details.length&&(L=0,r=!0,M=!1,u=!0,x=w.id,s(w),z=y(w),t.emit("dragStarted"))}function I(w){r&&x===w.idChanged&&(r=!1,t.emit("dragEnded"))}function s(w){var f=D(),c=f?w.y:w.x,n=f?w.x:w.y,b=C!==void 0&&v!==void 0&&Math.abs(v-n)<=Math.abs(C-c);return C=c,v=n,b}function y(w){return D()?w.y:w.x}function D(){return t.options.vertical}function W(){l=t.size,a=D()?window.innerHeight:window.innerWidth;var w=t.track.details;w&&(m=w.min,g=w.max)}function N(w){M&&(U(w),Y(w))}function H(){if(p.purge(),t.options.drag&&!t.options.disabled){var w;w=t.options.dragSpeed||1,h=typeof w=="function"?w:function(c){return c*w},o=t.options.rtl?-1:1,W(),i=t.container,function(){var c="data-keen-slider-clickable";J("[".concat(c,"]:not([").concat(c,"=false])"),i).map(function(n){p.add(n,"dragstart",U),p.add(n,"mousedown",U),p.add(n,"touchstart",U)})}(),p.add(i,"dragstart",function(c){Y(c)}),p.add(i,"click",N,{capture:!0}),p.input(i,"ksDragStart",E),p.input(i,"ksDrag",V),p.input(i,"ksDragEnd",I),p.input(i,"mousedown",E),p.input(i,"mousemove",V),p.input(i,"mouseleave",I),p.input(i,"mouseup",I),p.input(i,"touchstart",E,{passive:!0}),p.input(i,"touchmove",V,{passive:!1}),p.input(i,"touchend",I),p.input(i,"touchcancel",I),p.add(window,"wheel",function(c){r&&Y(c)});var f="data-keen-slider-scrollable";J("[".concat(f,"]:not([").concat(f,"=false])"),t.container).map(function(c){return function(n){var b;p.input(n,"touchstart",function(d){b=y(d),_=!0,T=!0},{passive:!0}),p.input(n,"touchmove",function(d){var k=D(),S=k?n.scrollHeight-n.clientHeight:n.scrollWidth-n.clientWidth,A=b-y(d),O=k?n.scrollTop:n.scrollLeft,R=k&&n.style.overflowY==="scroll"||!k&&n.style.overflowX==="scroll";if(b=y(d),(A<0&&O>0||A>0&&O<S)&&T&&R)return _=!0;T=!1,Y(d),_=!1}),p.input(n,"touchend",function(){_=!1})}(c)})}}t.on("updated",W),t.on("optionsChanged",H),t.on("created",H),t.on("destroyed",p.purge)}function Dt(t){var i,e,o=null;function l(C,v,T){t.animator.active?r(C,v,T):requestAnimationFrame(function(){return r(C,v,T)})}function a(){l(!1,!1,e)}function r(C,v,T){var _=0,m=t.size,g=t.track.details;if(g&&i){var p=g.slides;i.forEach(function(V,E){if(C)!o&&v&&x(V,null,T),u(V,null,T);else{if(!p[E])return;var I=p[E].size*m;!o&&v&&x(V,I,T),u(V,p[E].distance*m-_,T),_+=I}})}}function h(C){return t.options.renderMode==="performance"?Math.round(C):C}function x(C,v,T){var _=T?"height":"width";v!==null&&(v=h(v)+"px"),C.style["min-"+_]=v,C.style["max-"+_]=v}function u(C,v,T){if(v!==null){v=h(v);var _=T?v:0;v="translate3d(".concat(T?0:v,"px, ").concat(_,"px, 0)")}C.style.transform=v,C.style["-webkit-transform"]=v}function z(){i&&(r(!0,!0,e),i=null),t.on("detailsChanged",a,!0)}function L(){l(!1,!0,e)}function M(){z(),e=t.options.vertical,t.options.disabled||t.options.renderMode==="custom"||(o=q(t.options.slides,"perView",null)==="auto",t.on("detailsChanged",a),(i=t.slides).length&&L())}t.on("created",M),t.on("optionsChanged",M),t.on("beforeOptionsChanged",function(){z()}),t.on("updated",L),t.on("destroyed",z)}function Vt(t,i){return function(e){var o,l,a,r,h,x=mt();function u(s){var y;Z(e.container,"reverse",(y=e.container,window.getComputedStyle(y,null).getPropertyValue("direction")!=="rtl"||s?null:"")),Z(e.container,"v",e.options.vertical&&!s?"":null),Z(e.container,"disabled",e.options.disabled&&!s?"":null)}function z(){L()&&_()}function L(){var s=null;if(r.forEach(function(D){D.matches&&(s=D.__media)}),s===o)return!1;o||e.emit("beforeOptionsChanged"),o=s;var y=s?a.breakpoints[s]:a;return e.options=j(j({},a),y),u(),E(),I(),g(),!0}function M(s){var y=ft(s);return(e.options.vertical?y.height:y.width)/e.size||1}function C(){return e.options.trackConfig.length}function v(s){for(var y in o=!1,a=j(j({},i),s),x.purge(),l=e.size,r=[],a.breakpoints||[]){var D=window.matchMedia(y);D.__media=y,r.push(D),x.add(D,"change",z)}x.add(window,"orientationchange",V),x.add(window,"resize",p),L()}function T(s){e.animator.stop();var y=e.track.details;e.track.init(s??(y?y.abs:0))}function _(s){T(s),e.emit("optionsChanged")}function m(s,y){if(s)return v(s),void _(y);E(),I();var D=C();g(),C()!==D?_(y):T(y),e.emit("updated")}function g(){var s=e.options.slides;if(typeof s=="function")return e.options.trackConfig=s(e.size,e.slides);for(var y=e.slides,D=y.length,W=typeof s=="number"?s:q(s,"number",D,!0),N=[],H=q(s,"perView",1,!0),w=q(s,"spacing",0,!0)/e.size||0,f=H==="auto"?w:w/H,c=q(s,"origin","auto"),n=0,b=0;b<W;b++){var d=H==="auto"?M(y[b]):1/H-w+f,k=c==="center"?.5-d/2:c==="auto"?0:c;N.push({origin:k,size:d,spacing:w}),n+=d}if(n+=w*(W-1),c==="auto"&&!e.options.loop&&H!==1){var S=0;N.map(function(A){var O=n-S;return S+=A.size+w,O>=1||(A.origin=1-O-(n>1?0:1-n)),A})}e.options.trackConfig=N}function p(){E();var s=e.size;e.options.disabled||s===l||(l=s,m())}function V(){p(),setTimeout(p,500),setTimeout(p,2e3)}function E(){var s=ft(e.container);e.size=(e.options.vertical?s.height:s.width)||1}function I(){e.slides=J(e.options.selector,e.container)}e.container=(h=J(t,document)).length?h[0]:null,e.destroy=function(){x.purge(),e.emit("destroyed"),u(!0)},e.prev=function(){e.moveToIdx(e.track.details.abs-1,!0)},e.next=function(){e.moveToIdx(e.track.details.abs+1,!0)},e.update=m,v(e.options)}}var Ot=function(t,i,e){try{return function(o,l){var a,r={};return a={emit:function(h){r[h]&&r[h].forEach(function(u){u(a)});var x=a.options&&a.options[h];x&&x(a)},moveToIdx:function(h,x,u){var z=a.track.idxToDist(h,x);if(z){var L=a.options.defaultAnimation;a.animator.start([{distance:z,duration:q(u||L,"duration",500),easing:q(u||L,"easing",function(M){return 1+--M*M*M*M*M})}])}},on:function(h,x,u){u===void 0&&(u=!1),r[h]||(r[h]=[]);var z=r[h].indexOf(x);z>-1?u&&delete r[h][z]:u||r[h].push(x)},options:o},function(){if(a.track=At(a),a.animator=St(a),l)for(var h=0,x=l;h<x.length;h++)(0,x[h])(a);a.track.init(a.options.initial||0),a.emit("created")}(),a}(i,vt([Vt(t,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),Dt,Lt,It],e||[],!0))}catch(o){console.error(o)}};const Bt={class:"relative"},qt={__name:"Base",props:{perView:{type:Number,default:3},spacing:{type:Number,default:16},arrowStyle:{type:String,default:"right"},size:{type:String,default:"xl"},fullscreen:{type:Boolean,default:!1}},setup(t){const i=bt(),e=t,o=ot(null),l=ot(!0),a=()=>{o.value&&(window.innerWidth<1024?o.value.container.style.width=window.innerWidth-80+"px":o.value.container.style.width="auto",o.value.slides&&o.value.slides.length===1&&(l.value=!1),o.value.update())};return xt(()=>[i.default(),e],()=>{a()},{deep:!0}),kt(()=>{const r={loop:!0,mode:"free-snap",slides:{perView:e.perView,spacing:e.spacing},breakpoints:e.fullscreen?{}:{"(max-width: 1024px)":{slides:{perView:2,spacing:16}},"(max-width: 640px)":{slides:{perView:1,spacing:8}}}};o.value&&(o.value=new Ot(o.value,r),a(),window.addEventListener("resize",()=>a()))}),yt(()=>{window.removeEventListener("resize",()=>a())}),(r,h)=>{const x=zt;return tt(),et("div",Bt,[Mt("div",{ref_key:"slider",ref:o,class:ut(["keen-slider mx-auto",{"h-full":t.fullscreen}])},[pt(r.$slots,"default")],2),Q(l)?(tt(),et("div",{key:0,dir:"ltr",class:ut({"flex gap-4 justify-end py-4":t.arrowStyle==="right","keen-arrow":t.arrowStyle==="center"})},[st(x,{class:"keen-arrow-left",icon:"i-ri-arrow-left-s-line",size:t.size,color:"white",square:"",variant:"solid",ui:{rounded:"rounded-full"},onClick:h[0]||(h[0]=u=>Q(o).prev())},null,8,["size"]),st(x,{icon:"i-ri-arrow-right-s-line",class:"keen-arrow-right",size:t.size,color:"white",square:"",variant:"solid",ui:{rounded:"rounded-full"},onClick:h[1]||(h[1]=u=>Q(o).next())},null,8,["size"])],2)):Tt("",!0)])}}};export{Ht as _,qt as a};
