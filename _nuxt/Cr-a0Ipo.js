import{_ as I}from"./DOh2-wJO.js";import{r as A,bX as v,b3 as h,bx as s,bs as _,bq as P,br as t,bP as N,by as a,bz as b,bD as l,bQ as S,c1 as y,b_ as z}from"./CJ_CGJpm.js";import{w as D}from"./C7OMVk2J.js";import Q from"./BMCXCw7J.js";import{e as V,f as g}from"./Ul5rOUWU.js";import{h as w}from"./ChsSowZC.js";import{u as L}from"./CcHYH2cW.js";import{a as O}from"./CvURW2WX.js";import"./DxqHYnwt.js";import"./BLVB0qGI.js";import"./DdDBkiWh.js";const E={key:0,class:"rounded-finsc overflow-hidden h-full w-full text-base bg-base-300 flex flex-col justify-between"},M={key:0,class:"flex-none h-[32px]"},U={class:"w-full relative flex justify-center"},Z={class:"w-[180px] mx-auto relative"},G={class:"text-base-bg-300 absolute inset-0 origin-top-left",width:"360",height:"48",viewBox:"0 0 360 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scale(0.5)"}},H={class:"flex text-center gap-4 px-4 py-2"},R={class:"flex justify-between w-full h-7 mx-2"},X={class:"overflow-auto flex-1 px-2 mt-2"},J={class:"text-center px-4 py-2"},K={class:"w-full p-1"},W={class:"flex justify-between px-2 font-semibold"},Y={class:"text-green-500"},ee={class:"font-normal text-sm bg-base-primary px-2 py-0.5 rounded-full"},te={class:"text-red-600"},me={__name:"BoxStrength",props:{symbol:{type:String,default:""},local:{type:Boolean,default:!1},dataSI:{type:Object,default:()=>{}},dataTP:{type:Object,default:()=>{}}},async setup(x){let c,B;const r=x,o=A({}),C=L({baseURL:O().API_FINSC}),{data:F}=([c,B]=D(()=>v(()=>C.get(`/scta/hitprice?symbols=${r.symbol}`),{watch:[r.symbol]},"$Nrs67yTbOA")),c=await c,B(),c);return h(()=>r.dataSI,async()=>{o.value=w(r.dataSI,r.dataTP)}),h(()=>r.dataTP,async()=>{o.value=w(r.dataSI,r.dataTP)}),h(()=>F.value,async d=>{try{const e=d==null?void 0:d.data[0],u=(e==null?void 0:e.foreignBuy)/10,f=(e==null?void 0:e.foreignSell)/10,i=(e==null?void 0:e.reference)/1e3,n=(e==null?void 0:e.closePrice)/1e3,m=(e==null?void 0:e.closeVol)/10,p={buyForeignQtty:u,sellForeignQtty:f,basicPrice:i,matchPrice:n,matchQtty:m},T=isNaN(e==null?void 0:e.offerPrice1)?e==null?void 0:e.offerPrice1:V(e==null?void 0:e.offerPrice1,2,0)/1e3,k=isNaN(e==null?void 0:e.bidPrice1)?e==null?void 0:e.bidPrice1:V(e==null?void 0:e.bidPrice1,2,0)/1e3,$=[{price:(e==null?void 0:e.offerPrice3)/1e3,qtty:e==null?void 0:e.offerVol3},{price:(e==null?void 0:e.offerPrice2)/1e3,qtty:e==null?void 0:e.offerVol2},{price:T,qtty:e==null?void 0:e.offerVol1}],q=[{price:k,qtty:e==null?void 0:e.bidVol1},{price:(e==null?void 0:e.bidPrice2)/1e3,qtty:e==null?void 0:e.bidVol2},{price:(e==null?void 0:e.bidPrice3)/1e3,qtty:e==null?void 0:e.bidVol3}],j={ask:$,bid:q};o.value=w(p,j)}catch(e){console.log(e)}},{deep:!0}),(d,e)=>{const u=I,f=z;return s(o)&&s(o).sumBuy?(_(),P("div",E,[x.local?N("",!0):(_(),P("div",M,[t("div",U,[t("div",Z,[(_(),P("svg",G,e[0]||(e[0]=[t("path",{d:"M357.237 2.82376e-05C398.658 2.82376e-05 -39.9387 -3.52971e-05 2.95743 2.82376e-05C45.8536 9.17724e-05 66.301 48 115.04 48H251.002C304.338 48 315.815 2.82376e-05 357.237 2.82376e-05Z",fill:"currentColor"},null,-1)]))),e[1]||(e[1]=t("div",{class:"bg-base-primary text-white rounded-full relative text-sm text-center px-2 w-24 mx-auto"}," 3 Bước Giá ",-1))])])])),a(f,{mode:"hover",popper:{placement:"left"}},{panel:b(()=>{var i,n;return[t("div",H,[t("div",null,[e[2]||(e[2]=t("div",null,"Tổng mua",-1)),t("div",null,l(s(g)((i=s(o))==null?void 0:i.sumBuy)),1)]),t("div",null,[e[3]||(e[3]=t("div",null,"Tổng bán",-1)),t("div",null,l(s(g)((n=s(o))==null?void 0:n.sumSell)),1)])])]}),default:b(()=>{var i,n;return[t("div",R,[t("div",{class:"bg-gradient-to-l from-green-400/80 border-green-400 text-center py-1",style:S({width:((i=s(o))==null?void 0:i.sumBuyPercentage)+"%"})},[a(u,{src:"/static/svg/bull.svg",class:"h-5 mx-auto",alt:"Bull"})],4),t("div",{class:"bg-gradient-to-r from-red-400/80 border-red-400 text-center py-1",style:S({width:((n=s(o))==null?void 0:n.sumSellPercentage)+"%"})},[a(u,{src:"/static/svg/bear.svg",class:"h-5 mx-auto",alt:"Bear"})],4)])]}),_:1}),t("div",X,[a(Q,{mode:"table",list:s(o).list},null,8,["list"])]),a(f,{mode:"hover",popper:{placement:"left"}},{panel:b(()=>{var i,n,m,p;return[t("div",J,[e[4]||(e[4]=y(" Nước ngoài mua : Nước ngoài bán ")),t("div",null,l(`${s(g)((i=s(o))==null?void 0:i.buyForeign)} (${(n=s(o))==null?void 0:n.buyForeignPercentage}%) : ${s(g)((m=s(o))==null?void 0:m.sellForeign)} (${(p=s(o))==null?void 0:p.sellForeignPercentage}%)`),1),e[5]||(e[5]=t("div",null,"- - - - - -",-1)),e[6]||(e[6]=y(" Phần trăm biểu thị tỷ lệ mua bán của khối ngoại ")),e[7]||(e[7]=t("div",null,"(tính cả thỏa thuận) trên tổng khối lượng khớp.",-1))])]}),default:b(()=>{var i,n;return[t("div",K,[t("div",W,[t("div",null,[e[8]||(e[8]=y(" Mua ")),t("span",Y,l((i=s(o))==null?void 0:i.buyForeignPercentage)+"%",1)]),t("div",ee,l(x.symbol),1),t("div",null,[t("span",te,l((n=s(o))==null?void 0:n.sellForeignPercentage)+"%",1),e[9]||(e[9]=y(" Bán "))])])])]}),_:1})])):N("",!0)}}};export{me as default};
