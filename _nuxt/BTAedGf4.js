import{r as V,bq as c,bT as I,bp as n,bn as i,bo as e,bA as r,bu as s,bv as b,bw as x,bR as D,bL as A,by as L,bz as z,bS as m,bW as P,ci as N}from"./DJaf_P2z.js";import{u as R}from"./HQA1JVik.js";import{u as j,w as H}from"./C2Qq6D40.js";import K from"./pt4ROfsM.js";import{j as v,g as _}from"./BdMQyVqi.js";import{u as T}from"./SwQcqmH2.js";import{a as U}from"./pGdLB03n.js";import{s as E}from"./ZS5rF5Ms.js";import"./C83wUoeB.js";import"./DdDBkiWh.js";import"./CiXQBoTi.js";import"./6bUBh_yt.js";import"./BLVB0qGI.js";const F={class:"rounded-finsc overflow-hidden h-full w-full text-base bg-base-300 flex flex-col"},M={class:"flex-none h-[48px]"},Q={class:"w-full relative flex justify-center"},W={class:"w-[180px] mx-auto relative"},Z={class:"text-base-bg-300 absolute inset-0 origin-top-left",width:"360",height:"48",viewBox:"0 0 360 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:"scale(0.5)"}},q={class:"flex justify-between text-xs -mt-8 px-4 pb-2"},G={class:"p-2 -mt-2"},$={class:"overflow-x-auto w-full max-h-screen pb-20 rounded-lg bg-white/5"},J={class:"table text-sm text-center table-pin-rows table-pin-cols"},O={colspan:"3"},X={class:"flex relative"},Y={class:"flex-1"},ee={key:0,class:"w-full max-w-md h-[600px]"},he={__name:"BoxVolumn",async setup(te){let d,p;const f=V(1),h=c(()=>j().symbol),w=c(()=>{var o;return(((o=a.value)==null?void 0:o.historyIntra)||[]).toReversed()}),y=c(()=>{var o;return(o=a.value)==null?void 0:o.historyIntra.reduce((l,u)=>l+u.Price*u.Volume,0)}),g=c(()=>{var o,l;return(l=a.value)==null?void 0:l.historyIntra[((o=a.value)==null?void 0:o.historyIntra.length)-1].TotalVolume}),S={colors:["#34c85e","#d73834","#ff7602"],type:"bar",height:"100%",horizontal:!0,stacked:!0,stroke:"smooth",strokeWidth:1,strokeDashes:0,markers:0,dark:!0,fillSolid:!0,animation:!1},B=T({baseURL:U().API_URI}),{data:a,status:k}=([d,p]=H(()=>I("intraday",()=>B.get(`IntradayQuotes?symbol=${h.value}`),{watch:[h,f]})),d=await d,p(),d);return E(()=>{f.value++},5e3),(o,l)=>{const u=N;return n(),i("div",F,[e("div",M,[e("div",Q,[e("div",W,[(n(),i("svg",Z,l[0]||(l[0]=[e("path",{d:"M357.237 2.82376e-05C398.658 2.82376e-05 -39.9387 -3.52971e-05 2.95743 2.82376e-05C45.8536 9.17724e-05 66.301 48 115.04 48H251.002C304.338 48 315.815 2.82376e-05 357.237 2.82376e-05Z",fill:"currentColor"},null,-1)]))),l[1]||(l[1]=e("div",{class:"bg-base-primary text-white rounded-full relative text-sm text-center px-2 w-24 mx-auto"}," Khớp lệnh ",-1))])])]),e("div",q,[e("div",null,[e("div",null,r(s(v)(s(g)))+" cổ",1)]),e("div",null,[e("div",null,r(s(v)(s(y),!0)),1)])]),e("div",G,[b(u,{mode:"hover",popper:{placement:"left-start"}},{panel:x(()=>[s(k)==="success"?(n(),i("div",ee,[b(s(K),D({categories:s(a).accumulatedVolumes.categories,series:s(a).accumulatedVolumes.series},S),null,16,["categories","series"])])):A("",!0)]),default:x(()=>[e("div",$,[e("table",J,[l[2]||(l[2]=e("thead",null,[e("tr",{class:"text-xs"},[e("th",{class:"py-1 w-20"},"Thời gian"),e("th",{class:"py-1 w-20"},"Giá"),e("th",{class:"py-1"},"KL"),e("th",{class:"py-1 w-10"},"Lệnh")])],-1)),e("tbody",null,[(n(!0),i(L,null,z(s(w),(t,C)=>(n(),i("tr",{key:C},[e("td",null,r(("useDate"in o?o.useDate:s(R))(t.Date,"HH:mm:ss")),1),e("td",O,[e("div",X,[e("div",{class:m(["absolute bottom-0 left-0 h-full w-full rounded",{"bg-gradient-to-r from-green-400/20":t.Side==="B","bg-gradient-to-r from-red-400/20":t.Side==="S"}]),style:P({"max-width":t.percentQuantity+"%"})},null,6),e("div",{class:m(["flex-none w-20",{"text-yellow-600":t.Side===null,"text-green-600":t.Side==="B","text-red-600":t.Side==="S"}])},r(s(_)(t.Price)),3),e("div",Y,r(s(_)(t.Volume)),1),e("div",{class:m(["flex-none w-10 font-semibold",{"text-yellow-600":t.Side===null,"text-green-600":t.Side==="B","text-red-600":t.Side==="S"}])},r(t.Side==="B"?"M":t.Side==="S"?"B":"K"),3)])])]))),128))])])])]),_:1})])])}}};export{he as default};
