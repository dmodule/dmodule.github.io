import{_ as H}from"./CtkwUNzT.js";import{r as b,a_ as h,bX as F,bb as J,bs as t,bq as o,br as e,by as i,bB as d,bC as y,bW as R,bx as a,bD as c,bz as u,bA as Z,c1 as E,bI as x,bP as w,bY as q,bJ as G,b$ as K,b_ as Q}from"./B5CNXMPg.js";import{_ as W}from"./D0QZyhSl.js";import{w as X,a as O}from"./BCqZNjps.js";import{u as T}from"./-Pa_sf8E.js";import{b as ee,j as se}from"./BBm5foIw.js";import{n as te}from"./CDm2gSvM.js";import ne from"./DmpUgs9g.js";import oe from"./8e3kuBos.js";import{u as ae}from"./3YHVM6WK.js";import{a as V}from"./CbGsoO7p.js";import"./DxqHYnwt.js";import"./DdDBkiWh.js";import"./BLVB0qGI.js";const le={class:"rounded-finsc overflow-hidden flex flex-col h-full w-full text-sm bg-base-300"},ie={class:"flex justify-center mb-2"},re={class:"w-full flex gap-2 justify-center overflow-hidden pt-2 pr-4"},ce=["onClick"],me={class:"m-3 flex-1 overflow-auto space-y-3"},de={key:0,class:"table text-sm text-center table-pin-rows table-pin-cols"},ue={class:"text-xs"},pe={colspan:"4"},_e={class:"flex items-center w-full bg-base-primary rounded-full px-3 py-1 -mt-[1px]"},fe={class:"flex-none w-[70px]"},be={class:"flex items-center"},ye={class:"relative rounded-full flex items-center p-1 bg-green-600 mr-1"},xe={class:"text-sm bg-base-300"},ve={class:"p-3"},he={colspan:"4"},we={class:"flex items-center w-full bg-base-100 mt-2 rounded-finsc px-3 py-1.5"},ge={class:"flex-none w-[70px]"},ke={class:"flex-none w-20"},De={class:"flex-1 text-justify px-1"},Ce={class:"flex-none w-9 text-base-primary"},ze={class:"flex items-center justify-between text-base-primary"},Se={class:"text-xs"},Te=["onClick"],Ve=["innerHTML"],Ye={key:0,class:"p-4 max-w-md"},Ee={__name:"BoxNews",async setup(Le){let p,g;const r=b("market"),k=h(()=>ee().symbol),_=b(""),v=b(""),Y=l=>{window.open(l,"_blank")},D=h(()=>r.value==="event"?v.value?"/scfa/dividend?symbol="+v.value:"/scfa/dividend":r.value==="news"&&k.value?"/news?symbol="+k.value:"/news"),L=l=>{r.value=l},M=l=>{v.value=l},N=h(()=>ae({baseURL:r.value==="event"?V().API_FINSC:V().API_URI})),{data:C,status:$}=([p,g]=X(()=>F("news",()=>N.value.get(D.value),{watch:[D]})),p=await p,g(),p),z=b([]);return J(async()=>{z.value=await se("/static/tv/data/symbol.json")}),(l,n)=>{const I=H,f=q,U=G,j=K,S=Q,A=W,B=O;return t(),o("div",le,[e("div",ie,[i(I,{scale:1,text:"Tin Tức",class:"text-base-primary ml-4"})]),e("div",re,[(t(!0),o(d,null,y(a(te),(s,m)=>(t(),o("button",{key:m,onClick:P=>L(s.id),class:R(["rounded-full px-3 py-1 border border-transparent",a(r)===s.id?"bg-base-100":"border-base-neutral"])},c(s.name),11,ce))),128))]),e("div",me,[a($)==="success"?(t(),o(d,{key:0},[a(r)==="event"?(t(),o("table",de,[e("thead",null,[e("tr",ue,[e("th",pe,[e("div",_e,[e("div",fe,[i(S,{popper:{placement:"bottom-start"}},{panel:u(()=>[e("div",xe,[e("div",ve,[i(j,{modelValue:a(_),"onUpdate:modelValue":n[0]||(n[0]=s=>Z(_)?_.value=s:null),icon:"i-ri-search-line",size:"sm",color:"white",trailing:!1,placeholder:"Search..."},null,8,["modelValue"])]),i(ne,{search:a(_),items:a(z),onChangeSymbol:M},null,8,["search","items"])])]),default:u(()=>[i(U,{popper:{placement:"right"},text:"Tìm mã cổ phiếu"},{default:u(()=>[e("div",be,[e("button",ye,[n[1]||(n[1]=e("span",{class:"animate-ping absolute inset-0 rounded-full bg-green-600 opacity-75"},null,-1)),i(f,{name:"i-ri-search-line",size:"16"})]),n[2]||(n[2]=E(" Mã "))])]),_:1})]),_:1})]),n[3]||(n[3]=e("div",{class:"flex-none w-20"},"Ngày GDKHQ",-1)),n[4]||(n[4]=e("div",{class:"flex-1"},"Nội dung",-1)),n[5]||(n[5]=e("div",{class:"flex-none w-9"},"Loại",-1))])])])]),e("tbody",null,[(t(!0),o(d,null,y(a(C).data,(s,m)=>(t(),o("tr",{key:m},[e("td",he,[e("div",we,[e("div",ge,c(s.symbol),1),e("div",ke,c(("useDate"in l?l.useDate:a(T))(s.exright_date*1e3,"DD-MM-YYYY")),1),e("div",De,c(s.title),1),e("div",Ce,[s.type==="cash"?(t(),x(f,{key:0,name:"i-solar-hand-money-broken",size:"24"})):s.type==="issue"?(t(),x(f,{key:1,name:"i-game-icons-pay-money",size:"24"})):s.type==="stock"?(t(),x(f,{key:2,name:"i-grommet-icons-money",size:"24"})):w("",!0)])])])]))),128))])])):(t(!0),o(d,{key:1},y(a(C),(s,m)=>(t(),o("div",{class:"text-sm bg-base-100 px-3 py-1.5 rounded-finsc",key:m},[e("div",ze,[e("div",Se,c(("useDate"in l?l.useDate:a(T))(s.time,"YYYY-MM-DD HH:mm")),1),e("div",null,[i(oe,{modelValue:s.link},null,8,["modelValue"])])]),i(S,{mode:"hover",popper:{placement:"right"}},{panel:u(()=>[s.summ?(t(),o("div",Ye,c(s.summ),1)):w("",!0)]),default:u(()=>[e("div",{class:"flex",onClick:P=>Y(s.link)},[s.linkimg?(t(),x(A,{key:0,src:s.linkimg,class:"pic-box mr-2 aspect-video rounded-lg min-w-24 max-w-24"},null,8,["src"])):w("",!0),e("span",{innerHTML:s.title},null,8,Ve)],8,Te)]),_:2},1024)]))),128))],64)):(t(),o(d,{key:1},y(6,s=>i(B,{height:"96px",avatar:"",key:s})),64))])])}}};export{Ee as default};
