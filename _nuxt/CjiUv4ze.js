import{bL as q,bs as a,bq as m,bQ as B,br as t,bu as X,r,a_ as k,bb as Y,ba as K,bU as O,cp as ee,by as o,bz as b,bx as e,bA as U,bW as M,bI as w,bB as z,bC as te,bD as N,c1 as D,bP as se,bY as oe,bJ as ae,b$ as le,b_ as ne,cy as ie}from"./CJ_CGJpm.js";import{b as ce,u as re,g as me}from"./BLRsUYzB.js";import{e as S}from"./mgkJuNVk.js";import de from"./ArAbwzJQ.js";import ue from"./BRATkmPz.js";import _e from"./Bn3WHjGn.js";import fe from"./BdxEGZ7W.js";import pe from"./B4F1TYw7.js";import be from"./DVtqCVj4.js";import{u as xe}from"./BVo3a_yY.js";import"./B_qkIv1B.js";import"./BLVB0qGI.js";import"./DdDBkiWh.js";import"./CkP8s735.js";import"./BlblDOJL.js";import"./BLzfW2ux.js";import"./DOh2-wJO.js";import"./DxqHYnwt.js";import"./DYgW2iG0.js";import"./Ch_HZii1.js";import"./DSK40HZ_.js";import"./-Pa_sf8E.js";import"./mujk1my0.js";const he={props:{scale:{type:Number,default:1}},computed:{width(){return 360*this.scale}}};function ve(C,x,h,c,_,v){return a(),m("div",{class:"flex-none relative flex justify-center",style:B({width:v.width+"px"})},[(a(),m("svg",{class:"text-base-bg-300 absolute inset-0 origin-top-left",style:B({transform:`scale(${h.scale})`}),width:"360",height:"48",viewBox:"0 0 360 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x[0]||(x[0]=[t("path",{d:"M357.237 2.82376e-05C398.658 2.82376e-05 -39.9387 -3.52971e-05 2.95743 2.82376e-05C45.8536 9.17724e-05 66.301 48 115.04 48H251.002C304.338 48 315.815 2.82376e-05 357.237 2.82376e-05Z",fill:"currentColor"},null,-1)]),4)),X(C.$slots,"default")],4)}const ye=q(he,[["render",ve]]),ge={class:"rounded-finsc overflow-hidden h-full w-full text-base bg-base-300 flex flex-col justify-between"},we={class:"flex justify-between items-start relative z-10"},Se={class:"max-w-[calc(50%-155px)] flex-1 flex items-center p-1"},Ce={class:"text-sm bg-base-300"},Te={class:"p-3"},ke={class:"w-full overflow-hidden -mr-6"},Ve=["onClick"],Pe={class:"bg-white/5 rounded-full relative flex items-center text-center py-1 gap-0 divide-x divide-dashed divide-base-neutral"},Ie={class:"px-3 flex items-center"},$e={class:"px-3 flex items-center"},Be={class:"max-w-[calc(50%-155px)] flex-1 p-2 ml-2"},Ue={key:0,class:"flex items-center"},Me={class:"flex-1 sm:flex max-h-[calc(100%-41px)]"},ze={class:"flex-1 flex flex-col sm:h-auto"},Ne={class:"relative h-96 flex-1"},De={class:"flex-none"},qe={class:"flex-none flex flex-col w-full sm:max-w-64"},Fe={class:"flex-none h-56 mb-2"},Je={class:"flex-1 overflow-hidden max-h-full relative"},Le={__name:"BoxTV",setup(C){const x=["FPT","HPG","TCB","MSN","VIC","MWG","VNM","VND","DGC","DPM","BSR"],{emit:h}=xe(),c=r(1),_=r(""),v=r(null),y=r(!1),g=ce(),d=k(()=>g.syms),F=k(()=>x.filter(s=>!d.value.includes(s))),T=k(()=>g.auth),l=re("symbolLocal","FPT"),f=r({}),p=r({}),V=s=>{l.value===s.symbol&&(f.value=s)},P=s=>{l.value===s.symbol&&(p.value=s)},J=()=>{c.value++},I=s=>{f.value={},p.value={},h("eSymbol",{symbol:s}),l.value=s,v.value.updateSymbol(s),c.value++},L=s=>{d.value.includes(s)||d.value.push(s),g.setSyms(d.value)},R=s=>{const n=d.value.filter(u=>u!==s);g.setSyms(n),c.value++},$=r([]);return Y(async()=>{h("eSymbol",{symbol:l.value}),$.value=await me("/static/tv/data/symbol.json")}),K(()=>{S.on("eSI",V),S.on("eTP",P)}),O(()=>{S.off("eSI",V),S.off("eTP",P)}),(s,n)=>{const u=oe,G=ae,j=le,E=ne,H=ee("Vue3Marquee"),W=ie,Z=ye;return a(),m("div",ge,[t("div",we,[t("div",Se,[o(E,{popper:{placement:"bottom-start"}},{panel:b(()=>[t("div",Ce,[t("div",Te,[o(j,{modelValue:e(_),"onUpdate:modelValue":n[0]||(n[0]=i=>U(_)?_.value=i:null),icon:"i-ri-search-line",size:"sm",color:"white",trailing:!1,placeholder:"Search..."},null,8,["modelValue"])]),o(be,{search:e(_),items:e($),onChangeSymbol:L},null,8,["search","items"])])]),default:b(()=>[o(G,{popper:{placement:"right"},text:"Thêm mã quan tâm"},{default:b(()=>[t("button",{class:M(["bg-white/5 hover:bg-base-100 rounded-full p-2 flex items-center",{"bg-base-300":e(F).length===0}])},[o(u,{name:"i-ri-add-line",size:"20"})],2)]),_:1})]),_:1}),t("div",ke,[(a(),w(H,{duration:30,key:e(c)},{default:b(()=>[(a(!0),m(z,null,te(e(d),(i,A)=>(a(),m("div",{key:A,class:M(["rounded-full px-3 py-1 border border-transparent whitespace-nowrap flex items-center mr-3",e(l)===i?"bg-base-100":"border-base-neutral"])},[t("span",{class:"cursor-pointer hover:text-base-primary",onClick:Q=>I(i)},N(i),9,Ve),o(u,{name:"i-ri-close-line",size:"16",class:"ml-1 cursor-pointer hover:text-base-secondary",onClick:Q=>R(i)},null,8,["onClick"])],2))),128))]),_:1}))])]),o(Z,{scale:.86},{default:b(()=>[t("div",Pe,[t("div",Ie,[n[2]||(n[2]=D(" 65 ")),o(u,{name:"i-ri-wallet-3-line",class:"ml-1"})]),t("div",$e,[o(W,{modelValue:e(y),"onUpdate:modelValue":n[1]||(n[1]=i=>U(y)?y.value=i:null),size:"xl","on-icon":"i-ri-exchange-dollar-line","off-icon":"i-ri-funds-line",ui:{inactive:"bg-yellow-500",icon:{off:"text-yellow-500"}}},null,8,["modelValue"])])])]),_:1}),t("div",Be,[e(T).name?(a(),m("div",Ue,[o(u,{name:"i-ri-lock-line",class:"bg-base-primary text-xl mx-1"}),D(" Xin chào ! "+N(e(T).name),1)])):se("",!0)])]),t("div",Me,[t("div",ze,[t("div",Ne,[o(de,{ref_key:"tvChart",ref:v,symbol:e(l),dataSI:e(f),dataTP:e(p),"onUpdate:symbol":I},null,8,["symbol","dataSI","dataTP"])]),t("div",De,[(a(),w(fe,{auth:e(T),key:e(c)},null,8,["auth"]))])]),t("div",qe,[e(y)?(a(),w(ue,{key:0,symbol:e(l),dataSI:e(f),dataTP:e(p),onSuccess:J},null,8,["symbol","dataSI","dataTP"])):(a(),m(z,{key:1},[t("div",Fe,[(a(),w(_e,{key:e(c),local:"",symbol:e(l),dataSI:e(f),dataTP:e(p)},null,8,["symbol","dataSI","dataTP"]))]),t("div",Je,[o(pe,{symbol:e(l),style:{"border-radius":"0 !important"}},null,8,["symbol"])])],64))])])])}}},mt=q(Le,[["__scopeId","data-v-defd136b"]]);export{mt as default};
