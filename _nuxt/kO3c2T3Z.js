import{_ as L}from"./B4-ux0JU.js";import{bL as w,ck as B,cl as z,bs as d,bq as u,by as o,cm as y,cn as V,br as l,bP as k,bF as U,co as _,bW as f,bB as v,bC as P,bD as m,bQ as N,c1 as x,bE as D}from"./C-UWfBKM.js";import{p as g,f as I}from"./BHQX9Zn-.js";import M from"./C9iDCKih.js";const j={directives:{maska:B},props:{modelValue:{},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:"VND"},ext:{type:Boolean,default:!1},extInput:{type:Boolean,default:!1},extPlaceholder:{type:String,default:""},min:{type:Number,default:0}},data(){return{options:{preProcess:t=>t.replace(/[$,]/g,""),postProcess:t=>t?new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:t.includes(".")?1:0,maximumFractionDigits:2}).format(t):""},percent:null}},computed:{currency:{get(){return this.modelValue},set(t){console.log(t),this.$emit("update:modelValue",t)}}},methods:{parseMoney:g,decrease(){let t=this.parseMoney(this.currency);t-=100,t<=this.min&&(t=this.min),this.$emit("update:modelValue",t)},increase(){let t=this.parseMoney(this.currency);t+=100,this.$emit("update:modelValue",t)}}},E={class:"w-full flex items-center justify-between bg-base-200 rounded-full p-1 text-sm"},Z=["disabled","placeholder"],F={class:"flex"},T={key:0,class:"flex w-20 items-center bg-base-100 rounded-full px-2"},q=["disabled","placeholder"],A={key:0};function G(t,e,s,r,c,i){const p=U,b=z("maska");return d(),u("div",E,[o(p,{onClick:i.decrease,disabled:s.disabled,size:"xs",icon:"i-ri-subtract-line",color:"white",variant:"ghost",square:"",ui:{rounded:"rounded-full"}},null,8,["onClick","disabled"]),y(l("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>i.currency=a),class:"flex-1 w-full bg-transparent text-center outline-none",type:"text",disabled:s.disabled,placeholder:s.placeholder},null,8,Z),[[V,i.currency],[b,c.options]]),l("div",F,[o(p,{onClick:i.increase,disabled:s.disabled,size:"xs",icon:"i-ri-add-line",color:"white",variant:"ghost",square:"",ui:{rounded:"rounded-full"}},null,8,["onClick","disabled"]),s.ext?(d(),u("div",T,[y(l("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>c.percent=a),disabled:s.disabled||!s.extInput,class:"flex-1 w-full text-center bg-transparent outline-none",type:"text",placeholder:s.extPlaceholder},null,8,q),[[V,c.percent]]),s.extInput?(d(),u("span",A,"%")):k("",!0)])):k("",!0)])])}const K=w(j,[["render",G]]),O={components:{ZuChartBoxList:M},props:{textSize:{type:String,default:"1.1rem"},list:{type:Array,default:()=>[]}},data:()=>({nav:1e8,input:null,risk:null,volume:null,takeProfit:null,stopLoss:null,exchange:1,command:{id:"condition",label:"Điều kiện"},commandOpts:[{id:"condition",label:"Điều kiện"},{id:"limit",label:"Giới hạn"}],asset:[.25,.5,.75,1]}),watch:{input(){this.calculateStopLoss()},risk(){this.calculateStopLoss()}},computed:{pSource(){let t=0,e=0,s=0;const r=this.list;return r.length===7&&(t=r[0].price,e=r[3].price,s=r[6].price),{tran:t,tc:e,san:s}}},methods:{formatCurrency:I,calculateStopLoss(){const t=g(this.risk),e=g(this.input);if(!this.nav||!t||!e){this.volume=null;return}const s=this.nav*t/100;this.stopLoss=e-e*t/100,this.volume=s/(e-this.stopLoss)},setExchange(t){this.exchange=t}},mounted(){this.list&&this.list.length===7&&(this.input=this.list[3].price)}},Q={class:"flex flex-col h-full w-full max-w-sm text-sm"},R={class:"flex justify-center"},W={class:"p-1 overflow-auto"},X={class:"p-1 rounded-lg flex-1 overflow-auto space-y-2"},H={class:"max-w-full relative"},J={class:"grid grid-cols-4 gap-2 mt-2"},Y={class:"flex gap-2"},$={class:"flex-1"},ee={class:"flex-none w-2/5"},te={class:"flex justify-between text-yellow-400 mb-2"},le={class:"flex justify-between font-semibold"},se={class:"text-left"},ne={class:"text-purple-400 font-normal"},oe={class:"text-center"},ie={class:"text-orange-400 font-normal"},ae={class:"text-right"},de={class:"text-sky-400 font-normal"};function ue(t,e,s,r,c,i){var h;const p=L,b=D,a=K,S=_("ZuChartBoxList");return d(),u("div",Q,[l("div",R,[o(p,{onClick:e[0]||(e[0]=n=>i.setExchange(1)),scale:.4,text:"Mua",textSize:s.textSize,class:f(["cursor-pointer",{"text-base-primary":t.exchange,"text-base-bg-100":!t.exchange}])},null,8,["textSize","class"]),o(p,{onClick:e[1]||(e[1]=n=>i.setExchange(0)),scale:.4,text:"Bán",textSize:s.textSize,class:f(["cursor-pointer",{"text-base-bg-100":t.exchange,"text-base-secondary":!t.exchange}])},null,8,["textSize","class"])]),l("div",W,[l("div",X,[l("div",H,[o(b,{modelValue:t.command,"onUpdate:modelValue":e[2]||(e[2]=n=>t.command=n),options:t.commandOpts,variant:"none",class:"bg-base-200 rounded-full py-0.5",ui:{base:"mx-auto font-semibold uppercase indent-4"}},null,8,["modelValue","options"])]),((h=t.command)==null?void 0:h.id)==="limit"?(d(),u(v,{key:0},[l("div",null,[e[10]||(e[10]=l("div",{class:"ml-2 mb-0.5"},"Giá vào",-1)),o(a,{modelValue:t.input,"onUpdate:modelValue":e[3]||(e[3]=n=>t.input=n),placeholder:""},null,8,["modelValue"]),e[11]||(e[11]=l("div",{class:"flex gap-2 mt-2"},[l("button",{class:"rounded-full py-0.5 px-1 min-w-16 bg-base-primary"},"LO"),l("button",{class:"rounded-full py-0.5 px-1 min-w-16 bg-base-200 hover:bg-base-100"}," MP "),l("button",{class:"rounded-full py-0.5 px-1 min-w-16 bg-base-200 hover:bg-base-100"}," ATC ")],-1))]),l("div",null,[e[12]||(e[12]=l("div",{class:"ml-2 mb-0.5"},"Khối lượng",-1)),o(a,{modelValue:t.volume,"onUpdate:modelValue":e[4]||(e[4]=n=>t.volume=n),placeholder:"cổ phiếu"},null,8,["modelValue"]),l("div",J,[(d(!0),u(v,null,P(t.asset,(n,C)=>(d(),u("button",{key:C,class:"rounded-full py-0.5 px-1 bg-base-200 hover:bg-base-300"},m(n*100)+"% ",1))),128))])])],64)):(d(),u(v,{key:1},[l("div",Y,[l("div",$,[e[13]||(e[13]=l("div",{class:"ml-2 mb-0.5"},"Giá vào",-1)),o(a,{modelValue:t.input,"onUpdate:modelValue":e[5]||(e[5]=n=>t.input=n)},null,8,["modelValue"])]),l("div",ee,[e[14]||(e[14]=l("div",{class:"ml-2 mb-0.5"},"Rủi ro",-1)),o(a,{modelValue:t.risk,"onUpdate:modelValue":e[6]||(e[6]=n=>t.risk=n),placeholder:"%"},null,8,["modelValue"])])]),l("div",null,[e[15]||(e[15]=l("div",{class:"ml-2 mb-0.5"},"Khối lượng",-1)),o(a,{modelValue:t.volume,"onUpdate:modelValue":e[7]||(e[7]=n=>t.volume=n),placeholder:"cổ phiếu",ext:"",extPlaceholder:"tối đa"},null,8,["modelValue"])]),l("div",null,[e[16]||(e[16]=l("div",{class:"ml-2 mb-0.5"},"Chốt lãi",-1)),o(a,{modelValue:t.takeProfit,"onUpdate:modelValue":e[8]||(e[8]=n=>t.takeProfit=n),disabled:!t.input,ext:"",extInput:""},null,8,["modelValue","disabled"])]),l("div",null,[e[17]||(e[17]=l("div",{class:"ml-2 mb-0.5"},"Cắt lỗ",-1)),o(a,{modelValue:t.stopLoss,"onUpdate:modelValue":e[9]||(e[9]=n=>t.stopLoss=n),disabled:!t.input,ext:"",extInput:""},null,8,["modelValue","disabled"])])],64)),l("div",null,[l("button",{class:f(["mt-2 rounded-full w-full p-1.5 font-semibold",{"bg-base-primary":t.exchange,"bg-base-secondary":!t.exchange}]),style:N({"font-size":s.textSize})}," Xác nhận ",6)]),l("div",null,[e[22]||(e[22]=l("div",{class:"flex justify-between font-semibold"},[l("div",null,"Nav"),l("div",null,"Sức mua")],-1)),l("div",te,[l("div",null,m(i.formatCurrency(t.nav)),1),l("div",null,m(i.formatCurrency(t.nav*2)),1)]),l("div",le,[l("div",se,[e[18]||(e[18]=x(" Trần ")),l("div",ne,m(i.pSource.tran),1)]),l("div",oe,[e[19]||(e[19]=x(" TC ")),l("div",ie,m(i.pSource.tc),1)]),l("div",ae,[e[20]||(e[20]=x(" Sàn ")),l("div",de,m(i.pSource.san),1)])]),l("div",null,[e[21]||(e[21]=l("div",{class:"flex justify-between font-semibold mt-2 mb-0.5"},[l("div",null,"Bước giá"),l("div",null,"Khối lượng")],-1)),o(S,{mode:"list",list:s.list},null,8,["list"])])])])])])}const be=w(O,[["render",ue]]);export{be as default};
