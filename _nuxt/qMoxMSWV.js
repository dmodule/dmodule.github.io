import{C as T,aT as u,aU as D,z as E,aV as U,aW as C,aX as O}from"./CXIoZqoz.js";import{a as q}from"./BZ1aNX-j.js";function x(a,s,r){const[t={},c]=typeof s=="string"?[{},s]:[s,r],e=T(()=>u(a)),n=t.key||D([c,typeof e.value=="string"?e.value:"",...A(t)]);if(!n||typeof n!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+n);if(!a)throw new Error("[nuxt] [useFetch] request is missing.");const i=n===c?"$f"+n:n;if(!t.baseURL&&typeof e.value=="string"&&e.value[0]==="/"&&e.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:m,lazy:y,default:p,transform:v,pick:b,watch:f,immediate:_,getCachedData:g,deep:w,dedupe:F,...$}=t,l=E({...U,...$,cache:typeof t.cache=="boolean"?void 0:t.cache}),k={server:m,lazy:y,default:p,transform:v,pick:b,immediate:_,getCachedData:g,deep:w,dedupe:F,watch:f===!1?[]:[l,e,...f||[]]};let o;return q(i,()=>{var d;(d=o==null?void 0:o.abort)==null||d.call(o),o=typeof AbortController<"u"?new AbortController:{};const h=u(t.timeout);return h&&setTimeout(()=>o.abort(),h),(t.$fetch||globalThis.$fetch)(e.value,{signal:o.signal,...l})},k)}function A(a){var r;const s=[((r=u(a.method))==null?void 0:r.toUpperCase())||"GET",u(a.baseURL)];for(const t of[a.params||a.query]){const c=u(t);if(!c)continue;const e={};for(const[n,i]of Object.entries(c))e[u(n)]=u(i);s.push(e)}return s}const S=C("finsc",{state:()=>({symbol:"FPT",tutru:{fetched:!1,canslim_style:{},canslim_value:{},data2:{},data3:{}}}),actions:{async fetchTutru(){if(!this.tutru.fetched){const{data:a,error:s}=await x(`${O().API_URI}/tutru?sb=${this.symbol}`,"$skEi6qIBMg");if(s.value)console.error("Failed to fetch finsc:",s);else{const{canslim_style:r,canslim_value:t,data2:c,data3:e}=a.value;this.tutru={canslim_style:r[0],canslim_value:t[0],data2:c[0],data3:e[0]},this.tutru.fetched=!0}}}}});export{x as a,S as u};
