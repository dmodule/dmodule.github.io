import{_ as Y}from"./D8XLQ2oo.js";import M from"./CewLLFIx.js";import{s as ee}from"./B4o5h6Dr.js";import{g as U}from"./BBTa3uuf.js";import{r as k,y as f,f as z,o as S,c as F,q as n,H as K,b as v,w as r,a as e,t as a,aq as A,I as G,U as N,d as V,ag as H,V as D,G as L,J as X,b7 as te,m as ne,M as O,O as oe,Q as le}from"./CMgfjk2B.js";import{u as E}from"./CZIRTLgS.js";import Z from"./BWeoQyvm.js";import J from"./CHZe3MDG.js";import W from"./B6tWk1ag.js";import{_ as se}from"./CIrvOaRj.js";import"./BJ7qOPW6.js";import"./DGR0v2_f.js";import"./C5_6IMde.js";import"./CMlBT5zd.js";import"./Cb15ghaC.js";import"./VLjS7zgI.js";import"./kHX2Wnqo.js";import"./C08AvRvv.js";import"./DxK7WQ94.js";import"./BqgA8WkM.js";import"./BpSgED-2.js";import"./iO3TyptH.js";import"./Ba704WhJ.js";import"./CV63zN8U.js";import"./Bk2xIUJf.js";import"./B08LnwSc.js";import"./CxIZtCgj.js";import"./DmO626QD.js";import"./CSIpw6TJ.js";import"./D1IA68YM.js";import"./BQdokeU3.js";import"./DjZJXYPx.js";import"./D7EQl-RA.js";import"./BnaH1qzr.js";import"./BcWQmOag.js";import"./DZEwva1J.js";import"./CB_wPJej.js";import"./C2BS08VY.js";import"./qxWO9KXu.js";import"./JlINvmum.js";import"./DMJkAyE3.js";import"./BqAR3TBA.js";import"./DCYNhRAl.js";import"./CrtgqDV4.js";const ae={class:"h-full flex flex-col justify-center mx-auto bg-gradient-to-b from-green-400/20 border-green-400/30 border text-base-100 rounded-2xl"},ie={class:"flex text-center gap-4 px-4 py-2"},re={class:"flex justify-between w-full h-10"},ue={class:"flex-none relative",style:{width:"1px"}},de={class:"absolute -top-1 left-1/2 -translate-x-1/2 w-32 h-10 overflow-hidden"},ce={class:"overflow-auto flex-1"},pe={class:"w-full table-auto text-sm"},me={class:"divide-y divide-base-neutral"},ge={class:"relative py-1 px-4 text-center"},ve={class:"relative py-1 px-4 text-center"},he={class:"text-center px-4 py-2"},be={class:"border-t border-base-neutral w-full"},xe={class:"flex justify-between px-2 font-semibold"},_e={class:"text-green-600"},fe={class:"text-red-600"},ye={__name:"BullBear",setup(I){const h=k(!1),u=k([]),b=k([]),o=k({}),d=k([]),t=(p,l)=>{const i=p-l,y=i/l*100;return{changed:i.toFixed(2),changedRatio:y.toFixed(1)}},$=(p,l,i)=>{const y=p.reduce((m,T)=>m+T.qtty,0),c=l.reduce((m,T)=>m+T.qtty,0);return y+c+i.matchQtty},q=(p,l,i)=>{console.log(i);const y=[],c=$(p,l,i);return l.reverse().forEach(m=>{const{changed:T,changedRatio:Q}=t(m.price,i.basicPrice);y.push({price:m.price,quantity:m.qtty,changed:T,changedRatio:Q,percentQuantity:(m.qtty/c*100).toFixed(2)})}),y.push({price:i.matchPrice,quantity:i.matchQtty,changed:i.changed.toFixed(2),changedRatio:i.changedRatio.toFixed(1),percentQuantity:(i.matchQtty/c*100).toFixed(2)}),p.forEach(m=>{const{changed:T,changedRatio:Q}=t(m.price,i.basicPrice);y.push({price:m.price,quantity:m.qtty,changed:T,changedRatio:Q,percentQuantity:(m.qtty/c*100).toFixed(2)})}),y},w=p=>p.length===0?0:p.reduce((l,i)=>l+i.qtty,0),s=f(()=>w(u.value)+(o.value.buyForeignQtty||0)),x=f(()=>w(b.value)+(o.value.sellForeignQtty||0)),_=f(()=>(s.value/(s.value+x.value)*100).toFixed(1)),R=f(()=>(x.value/(s.value+x.value)*100).toFixed(1)),B=f(()=>o.value.buyForeignQtty||0),C=f(()=>o.value.sellForeignQtty||0),g=f(()=>(B.value/s.value*100).toFixed(1)),P=f(()=>(C.value/x.value*100).toFixed(1)),j=(p,l,i=1e3,y=10)=>{let c=0;const m=ee(()=>{const T=p();T!=null?(l(T),clearInterval(m)):c>=y&&(console.log("No data received, stopping."),clearInterval(m)),c++},i)};return z(()=>{j(()=>window._finSI,()=>{var p,l;u.value=((p=window._finTP)==null?void 0:p.bid)||[],b.value=((l=window._finTP)==null?void 0:l.ask)||[],o.value=window._finSI||{},d.value=q(u.value,b.value,o.value),h.value=!0},900,10)}),(p,l)=>{const i=Y,y=M;return S(),F("div",ae,[n(h)?(S(),F(K,{key:0},[v(y,{mode:"hover",popper:{placement:"top"}},{panel:r(()=>[e("div",ie,[e("div",null,[l[0]||(l[0]=e("div",null,"Tổng mua",-1)),e("div",null,a(n(U)(n(s))),1)]),e("div",null,[l[1]||(l[1]=e("div",null,"Tổng bán",-1)),e("div",null,a(n(U)(n(x))),1)])])]),default:r(()=>[e("div",re,[e("div",{class:"bg-gradient-to-l from-green-400/80 border-green-400 rounded-tl-lg",style:A({width:n(_)+"%"})},null,4),e("div",ue,[e("div",de,[v(i,{src:"/static/svg/bull-bear.png",class:"h-10 my-1 mx-auto",alt:"Bull & Bear"})])]),e("div",{class:"bg-gradient-to-r from-red-400/80 border-red-400 rounded-tr-lg",style:A({width:n(R)+"%"})},null,4)])]),_:1}),e("div",ce,[e("table",pe,[e("tbody",me,[(S(!0),F(K,null,G(n(d),(c,m)=>(S(),F("tr",{key:m,class:"relative"},[e("div",{class:N(["absolute bottom-0 left-0 h-1 w-full",{"bg-gradient-to-r from-green-400/80":parseInt(c.changed)>=0,"bg-gradient-to-r from-red-400/20":parseInt(c.changed)<0}]),style:A({"max-width":c.percentQuantity+"%"})},null,6),e("td",ge,a(n(U)(c.price)),1),e("td",ve,a(c.quantity),1),e("td",{class:N(["relative py-1 px-4 text-center",parseInt(c.changed)>0?"text-green-600":"text-red-600"])},a(c.changed),3),e("td",{class:N(["relative py-1 px-4 text-center",{"text-green-400":parseInt(c.changedRatio)>=0,"text-red-400":parseInt(c.changedRatio)<0}])},a(c.changedRatio)+"% ",3)]))),128))])])]),v(y,{mode:"hover",popper:{placement:"top"}},{panel:r(()=>[e("div",he,[l[2]||(l[2]=V(" Nước ngoài mua : Nước ngoài bán ")),e("div",null,a(`${n(U)(n(B))} (${n(g)}%) : ${n(U)(n(C))} (${n(P)}%)`),1),l[3]||(l[3]=e("div",null,"- - - - - -",-1)),l[4]||(l[4]=V(" Phần trăm biểu thị tỷ lệ mua bán của khối ngoại ")),l[5]||(l[5]=e("div",null,"(tính cả thỏa thuận) trên tổng khối lượng khớp.",-1))])]),default:r(()=>[e("div",be,[e("div",xe,[e("div",null,[l[6]||(l[6]=V(" Mua ")),e("span",_e,a(n(g))+"%",1)]),e("div",null,[e("span",fe,a(n(P))+"%",1),l[7]||(l[7]=V(" Bán "))])])])]),_:1})],64)):H("",!0)])}}},$e={class:"h-full flex flex-col justify-center mx-auto bg-gradient-to-b from-green-400/10 border-green-400/20 border text-base-100 p-3 sm:p-4 rounded-2xl"},we={class:"mb-2"},Te={class:"w-full text-center text-lg font-semibold mb-4"},ke={class:"grid grid-cols-2 gap-4 text-center"},Se={class:"text-xl font-bold"},Fe={class:"text-xl font-bold text-base-primary"},Ve={class:"text-xl font-bold text-yellow-500"},qe={class:"text-xl font-bold text-yellow-500"},Be={__name:"Fundamental",setup(I){const h=E(),u=f(()=>h.tutru.data2);return(b,o)=>{const d=D,t=M;return S(),F("div",$e,[e("div",we,[v(t,{mode:"hover",popper:{placement:"top"}},{panel:r(()=>o[0]||(o[0]=[e("div",{class:"text-left px-4 py-2 max-w-72"},[V(' Lấy cảm hứng từ triết học tử vi phương Đông, FINSC xây dựng bộ chỉ số đánh giá cơ bản dựa trên 4 trụ cột giúp "luận đoán số mệnh cổ phiếu" được gọi là "Tứ trụ FA": '),e("p",null,"(1) Định giá cổ phiếu"),e("p",null,"(2) Sức khỏe tài chính"),e("p",null,"(3) Mô hình kinh doanh"),e("p",null,"(4) Hiệu quả hoạt động")],-1)])),default:r(()=>[e("h1",Te,[o[1]||(o[1]=V(" Tứ trụ FA ")),v(d,{name:"i-ri-information-fill"})])]),_:1})]),e("div",ke,[e("div",null,[o[2]||(o[2]=e("p",{class:"text-base-neutral"},"Định Giá",-1)),e("p",Se,a(n(u).DG_bq),1)]),e("div",null,[o[3]||(o[3]=e("p",{class:"text-base-neutral"},"Tài chính",-1)),e("p",Fe,a(n(u).skTaichinh),1)]),o[6]||(o[6]=e("div",{class:"border-t border-base-neutral col-span-2"},null,-1)),e("div",null,[o[4]||(o[4]=e("p",{class:"text-base-neutral"},"Kinh doanh",-1)),e("p",Ve,a(n(u).mohinhKinhdoanh),1)]),e("div",null,[o[5]||(o[5]=e("p",{class:"text-base-neutral"},"Hiệu quả",-1)),e("p",qe,a(n(u).hieuquaHoatdong),1)])])])}}},Ce={class:"flex justify-center gap-1 sm:gap-2 mb-4 mt-2"},Pe={class:"text-center mb-4"},Ue={class:"text-xl font-bold"},Ie={class:"text-lg"},Re={class:"text-sm text-base-neutral"},Ne={class:"text-center mb-2 w-full"},je={class:"text-xl font-semibold"},Me={class:"text-base-primary"},Qe={class:"flex items-center justify-between"},Ae={class:"text-base-100 text-center"},Ke={__name:"Score",setup(I){const h=E(),u=["c","a","n","s","l","i","m"],b=f(()=>h.tutru.canslim_style),o=f(()=>h.tutru.data2),d=f(()=>h.tutru.data3),t=k(!1),$=[{key:"letter",label:""},{key:"name",label:"Tiêu chí"},{key:"value",label:"Giá trị"},{key:"evaluation",label:"Đánh giá"}],q=[{letter:{value:"C",class:"bg-yellow-600"},name:"Tăng trưởng doanh thu quý gần nhất so với cùng kỳ năm trước",value:"20.1%",evaluation:"Không đạt"},{letter:{value:"C",class:"bg-yellow-600"},name:"Tăng trưởng EPS cơ bản quý gần nhất so với cùng kỳ năm trước",value:"-0.3%",evaluation:"Không đạt"},{letter:{value:"C",class:"bg-yellow-600"},name:"Tăng trưởng EPS cơ bản quý gần nhất so với cùng kỳ năm trước",value:"6.9%",evaluation:"Không đạt"},{letter:{value:"A",class:"bg-orange-600"},name:"Tăng trưởng EPS cơ bản 4 quý gần nhất so với 4 quý trước đó",value:"1.9%",evaluation:"Không đạt"},{letter:{value:"A",class:"bg-orange-600"},name:"ROE",value:"22.2%",evaluation:"Đạt"},{letter:{value:"A",class:"bg-orange-600"},name:"Tăng trưởng LNST năm gần nhất",value:"22.4%",evaluation:"Đạt"},{letter:{value:"A",class:"bg-orange-600"},name:"Có sự tăng tốc về tăng trưởng LNST",value:"Đạt",evaluation:"Đạt"},{letter:{value:"N",class:"bg-pink-600"},name:"Doanh nghiệp có sự mở rộng biên lợi nhuận",value:"39.5% -> 39.2%",evaluation:"Không đạt"},{letter:{value:"N",class:"bg-pink-600"},name:"Cổ phiếu chỉnh phục những mức giá mới",value:"-2.5%",evaluation:"Đạt"},{letter:{value:"S",class:"bg-sky-600"},name:"Nguồn cung cổ phiếu",value:"460.3 tỷ",evaluation:"Đạt"},{letter:{value:"L",class:"bg-blue-600"},name:"Vốn hóa",value:"86,117 tỷ",evaluation:"Đạt"},{letter:{value:"L",class:"bg-blue-600"},name:"Tầm vóc doanh nghiệp",value:"Đầu ngành",evaluation:"Đạt"},{letter:{value:"I",class:"bg-purple-600"},name:"Tổ chức, nước ngoài sở hữu",value:"49%",evaluation:"Đạt"},{letter:{value:"I",class:"bg-purple-600"},name:"Cổ phiếu trôi nổi (Freefloat)",value:"78.6%",evaluation:"Đạt"},{letter:{value:"M",class:"bg-green-600"},name:"Tỷ lệ cổ phiếu UPTREND ngắn hạn",value:"68%",evaluation:"Đạt"},{letter:{value:"M",class:"bg-green-600"},name:"Tỷ lệ cổ phiếu UPTREND trung hạn",value:"55%",evaluation:"Đạt"}];return(w,s)=>{const x=M,_=X,R=Z,B=J,C=W;return S(),F("div",{class:"h-full flex flex-col justify-center mx-auto bg-gradient-to-b from-green-400/10 border-green-400/20 border text-base-100 p-3 sm:p-4 rounded-2xl cursor-pointer",onClick:s[2]||(s[2]=g=>t.value=!0)},[e("div",Ce,[(S(),F(K,null,G(u,(g,P)=>e("span",{key:P,class:N(["flex items-center justify-center h-8 w-8 rounded-full text-lg font-semibold uppercase",[n(b)[g]?"bg-base-primary text-white":"bg-base-100 text-base-200"]])},a(g),3)),64))]),e("div",Pe,[e("h1",Ue,a(n(d).macp)+" : "+a(n(d).san),1),e("h2",Ie,a(n(d).tendn),1),e("p",Re,a(n(d).nganh),1)]),v(x,{mode:"hover",popper:{placement:"top"}},{panel:r(()=>s[3]||(s[3]=[e("div",{class:"px-4 py-2"},[e("p",null,"Điểm khuyến nghị hành động:"),e("p",null,"Giúp NĐT đưa ra quyết định hiệu quả"),e("p",null,"dựa trên việc đánh giá tổng thể"),e("p",null,"từ trụ FA&TA của cổ phiếu,"),e("p",null,"theo thang điểm từ 1 đến 100:"),V(" ------------------ "),e("p",null,"[0-30] Loại khỏi danh mục"),e("p",null,"[30-60] Xem xét"),e("p",null,"[60-80] Theo dõi thường xuyên"),e("p",null,"[80-100] Đưa vào danh mục")],-1)])),default:r(()=>[e("div",Ne,[e("p",je,[s[4]||(s[4]=V(" Action Score: ")),e("span",Me,a(n(o).diemBinhquan),1)])])]),_:1}),v(C,{modelValue:n(t),"onUpdate:modelValue":s[1]||(s[1]=g=>L(t)?t.value=g:null),ui:{width:"w-full sm:max-w-3xl"}},{default:r(()=>[v(B,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:r(()=>[e("div",Qe,[s[5]||(s[5]=e("div",null,"CANSLIM CHECKLIST",-1)),v(_,{color:"red",size:"xs",icon:"i-heroicons-x-mark-20-solid",class:"-my-1 outline-none",onClick:s[0]||(s[0]=g=>t.value=!1)})])]),default:r(()=>[v(R,{rows:q,columns:$},{"letter-data":r(({row:g})=>[e("div",Ae,a(g.letter.value),1)]),"evaluation-data":r(({row:g})=>[e("div",{class:N(g.evaluation==="Đạt"?"text-base-primary animate-pulse":"text-base-secondary")},a(g.evaluation),3)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},Le={class:"h-full flex flex-col justify-center mx-auto bg-gradient-to-b from-green-400/10 border-green-400/20 border text-base-100 p-3 sm:p-4 rounded-2xl"},Ee={class:"mb-2"},Oe={class:"w-full text-center text-lg font-semibold mb-4"},ze={class:"grid grid-cols-2 gap-4 text-center"},Ge={class:"text-xl font-bold text-base-primary"},He={class:"text-xl font-bold text-base-primary"},De={class:"text-sm"},Xe={class:"text-base-primary caret-up"},Ze={class:"text-base-secondary caret-down"},Je={class:"flex items-center justify-center"},We={class:"flex items-center justify-between"},Ye=["src"],et={__name:"Technical",setup(I){const h=E(),u=f(()=>h.tutru.data2),b=k(null),o=k(!1);return z(async()=>{const d=await $fetch(`${te().API_URI}/chartimg?sb=${h.symbol}`);d&&(b.value="data:image/png;base64,"+(d==null?void 0:d.imgcode))}),(d,t)=>{const $=D,q=M,w=X,s=J,x=W;return S(),F("div",Le,[e("div",Ee,[v(q,{mode:"hover",popper:{placement:"top"}},{panel:r(()=>t[3]||(t[3]=[e("div",{class:"text-left px-4 py-2 max-w-72"}," Xếp hạng sức mạnh giá (RS) là chỉ số đo lường sức mạnh của một cổ phiếu so với tất cả cổ phiếu trên thị trường. RS Rating bằng 80 tương ứng cổ phiếu thuộc top 20% mạnh nhất thị trường. ",-1)])),default:r(()=>[e("h1",Oe,[t[4]||(t[4]=V(" Tứ trụ TA ")),v($,{name:"i-ri-information-fill"})])]),_:1})]),e("div",ze,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-base-neutral"},"RS",-1)),e("p",Ge,a(n(u).RS),1)]),e("div",null,[t[6]||(t[6]=e("p",{class:"text-base-neutral"},"Xu hướng",-1)),e("p",He,a(n(u).SUCMANH),1)]),t[9]||(t[9]=e("div",{class:"border-t border-base-neutral col-span-2"},null,-1)),e("div",null,[t[7]||(t[7]=e("p",{class:"text-base-neutral"},"Dòng tiền",-1)),e("p",De,[e("div",Xe,a(n(U)(n(u).bulVol)),1),e("div",Ze,a(n(U)(n(u).bearVol)),1)])]),e("div",Je,[e("button",{class:"btn btn-sm btn-outline",onClick:t[0]||(t[0]=_=>o.value=!0)},"Mẫu hình"),v(x,{modelValue:n(o),"onUpdate:modelValue":t[2]||(t[2]=_=>L(o)?o.value=_:null),ui:{width:"w-full sm:max-w-6xl"}},{default:r(()=>[v(s,{ui:{ring:"",divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:r(()=>[e("div",We,[t[8]||(t[8]=e("div",null,"Phân tích mẫu hình tự động",-1)),v(w,{color:"red",size:"xs",icon:"i-heroicons-x-mark-20-solid",class:"-my-1 outline-none",onClick:t[1]||(t[1]=_=>o.value=!1)})])]),default:r(()=>[e("img",{src:n(b),class:"pic-box h-full"},null,8,Ye)]),_:1})]),_:1},8,["modelValue"])])])])}}},tt={class:"overflow-auto flex-1"},nt={__name:"Volume",setup(I){const h=[{key:"time",label:"Khớp lệnh"},{key:"price",label:"Giá"},{key:"volume",label:"KL"},{key:"type",label:"Lệnh"}],u=[{time:"14:45:00",price:"131.00",volume:"493,900",type:"DK"},{time:"14:30:00",price:"131.30",volume:"100",type:"DK"},{time:"14:29:00",price:"131.40",volume:"1,300",type:"M"},{time:"14:29:00",price:"131.20",volume:"100",type:"M"},{time:"14:29:00",price:"131.20",volume:"5,200",type:"B"},{time:"14:29:00",price:"131.30",volume:"200",type:"B"},{time:"14:29:00",price:"131.30",volume:"1,400",type:"B"},{time:"14:29:00",price:"131.30",volume:"4,000",type:"B"}];return(b,o)=>{const d=Z;return S(),F("div",{class:"h-full flex flex-col justify-center mx-auto bg-gradient-to-b from-green-400/10 border-green-400/20 border text-base-100 rounded-2xl cursor-pointer",onClick:o[0]||(o[0]=t=>b.isOpen=!0)},[e("div",tt,[v(d,{rows:u,columns:h,ui:{th:{padding:"py-1 px-4"},td:{padding:"py-1 px-4"},divide:"",tbody:"divide-y divide-base-neutral"}},{"type-data":r(({row:t})=>[e("div",{class:N(["font-semibold",{"text-yellow-400":t.type==="DK","text-green-400":t.type==="M","text-red-400":t.type==="B"}])},a(t.type),3)]),_:1})])])}}},ot={custom:{hue:""},design:{mode:"BullBear"},attrs:{},categories:[],series:[],addon:{}},lt={custom:{hue:""},design:{mode:"Fundamental"},attrs:{},categories:[],series:[],addon:{}},st={custom:{hue:""},design:{mode:"Score"},attrs:{},categories:[],series:[],addon:{}},at={custom:{hue:""},design:{mode:"Technical"},attrs:{},categories:[],series:[],addon:{}},it={custom:{hue:""},design:{mode:"Volume"},attrs:{},categories:[],series:[],addon:{}},rt=Object.freeze(Object.defineProperty({__proto__:null,BullBear:ot,Fundamental:lt,Score:st,Technical:at,Volume:it},Symbol.toStringTag,{value:"Module"})),Yt={__name:"Root",props:{modelValue:{type:Object,default:()=>{}}},emits:["update:modelValue"],setup(I,{emit:h}){const u=h,b=I,o=k(!1),d=f(()=>!1),t=k({}),$=k(null),q=async()=>{var s,x,_,R,B,C,g,P,j,p;const{info:w}=b.modelValue;typeof w=="string"?t.value=rt[w]:t.value={...w},((x=(s=t.value)==null?void 0:s.design)==null?void 0:x.mode)==="BullBear"?$.value=ye:((R=(_=t.value)==null?void 0:_.design)==null?void 0:R.mode)==="Fundamental"?$.value=Be:((C=(B=t.value)==null?void 0:B.design)==null?void 0:C.mode)==="Score"?$.value=Ke:((P=(g=t.value)==null?void 0:g.design)==null?void 0:P.mode)==="Technical"?$.value=et:((p=(j=t.value)==null?void 0:j.design)==null?void 0:p.mode)==="Volume"&&($.value=nt),o.value=!0};return ne(()=>t.value,w=>{u("update:modelValue",{...b.modelValue,info:w})},{deep:!0}),(w,s)=>{const x=se;return S(),O(x,{modelValue:n(t),"onUpdate:modelValue":s[0]||(s[0]=_=>L(t)?t.value=_:null),edit:n(d),loaded:n(o),onOnVisibled:q},{default:r(({key:_})=>[n(o)?(S(),O(oe(n($)),le({key:_},{...n(t).design,...n(t).addon},{categories:n(t).categories,series:n(t).series,custom:n(t).custom,"model-value":n(t).attrs}),null,16,["categories","series","custom","model-value"])):H("",!0)]),_:1},8,["modelValue","edit","loaded"])}}};export{Yt as default};
