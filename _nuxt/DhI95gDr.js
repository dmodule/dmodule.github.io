import{_ as R}from"./5826pbEE.js";import{r as _,b4 as g,bw as U,b3 as c,b1 as h,b2 as o,b9 as B,ba as F,bc as x,bd as k,bu as N,b8 as i,be as m,bv as K,bg as O}from"./CHOppScM.js";import{a as G,u as W}from"./CQHyfnF2.js";import{w as Z}from"./XzYYspsI.js";import{u as J}from"./DJKdmCqp.js";import"./BLVB0qGI.js";import"./B7LlgBWf.js";import"./DINjZ76J.js";import"./B6Lq9Mqd.js";import"./6bUBh_yt.js";const A=(e,t={})=>{const n={baseURL:G().API_URL,headers:{Authorization:null},method:e.toUpperCase(),timeout:1e4,...t},f=W().token;return f&&(n.headers.Authorization=f),n};function M(e){return e!=null&&e.data&&typeof e.data=="string"&&e.data.length>0&&console.log(e.data),Promise.reject(e)}async function y(e,t,n,f={}){try{return await $fetch(t,e==="GET"||e==="DELETE"?{...A(e,f),params:n}:{...A(e,f),body:n})}catch(d){return M(d)}}function X(e={}){return{get:(t,n={})=>y("GET",t,n,e),post:(t,n={})=>y("POST",t,n,e),put:(t,n={})=>y("PUT",t,n,e),patch:(t,n={})=>y("PATCH",t,n,e),delete:(t,n={})=>y("DELETE",t,n,e)}}const Y=[{id:"incomestatement",name:"Kết quả kinh doanh"},{id:"balancesheet",name:"Bảng cân đối kế toán"},{id:"cashflow",name:"Bảng dòng tiền"}],ee={revenue:"Doanh thu thuần",yearRevenueGrowth:"TT doanh thu %YoY",quarterRevenueGrowth:"TT doanh thu %QoQ",costOfGoodSold:"Giá vốn hàng bán",grossProfit:"Lợi nhuận gộp",operationExpense:"Chi phí hoạt động",operationProfit:"Lợi nhuận hoạt động",yearOperationProfitGrowth:"TT lợi nhuận hoạt động %YoY",quarterOperationProfitGrowth:"TT lợi nhuận hoạt động %QoQ",interestExpense:"Chi phí lãi vay",preTaxProfit:"Lợi nhuận trước thuế",postTaxProfit:"Lợi nhuận sau thuế",shareHolderIncome:"Lợi nhuận dành cho cổ đông",yearShareHolderIncomeGrowth:"TT lợi nhuận cổ đông %YoY",quarterShareHolderIncomeGrowth:"TT lợi nhuận cổ đông %QoQ",investProfit:"Lợi nhuận từ đầu tư",serviceProfit:"Lợi nhuận từ dịch vụ",otherProfit:"Lợi nhuận khác",provisionExpense:"Chi phí dự phòng",operationIncome:"Thu nhập từ hoạt động kinh doanh",ebitda:"Lợi nhuận trước lãi vay, thuế và khấu hao (EBITDA)"},te={shortAsset:"Tài sản ngắn hạn",cash:"Tiền và các khoản tương đương tiền",shortInvest:"Đầu tư ngắn hạn",shortReceivable:"Phải thu ngắn hạn",inventory:"Hàng tồn kho",longAsset:"Tài sản dài hạn",fixedAsset:"Tài sản cố định",asset:"Tổng tài sản",debt:"Nợ phải trả",shortDebt:"Nợ ngắn hạn",longDebt:"Nợ dài hạn",equity:"Vốn chủ sở hữu",capital:"Vốn điều lệ",centralBankDeposit:"Tiền gửi tại Ngân hàng Trung ương",otherBankDeposit:"Tiền gửi tại Ngân hàng khác",otherBankLoan:"Vay từ Ngân hàng khác",stockInvest:"Đầu tư chứng khoán",customerLoan:"Cho vay khách hàng",badLoan:"Nợ xấu",provision:"Dự phòng rủi ro tín dụng",netCustomerLoan:"Cho vay khách hàng ròng",otherAsset:"Tài sản khác",otherBankCredit:"Tín dụng từ Ngân hàng khác",oweOtherBank:"Nợ Ngân hàng khác",oweCentralBank:"Nợ Ngân hàng Trung ương",valuablePaper:"Giấy tờ có giá",payableInterest:"Lãi phải trả",receivableInterest:"Lãi phải thu",deposit:"Tiền gửi",otherDebt:"Nợ khác",fund:"Quỹ",unDistributedIncome:"Lợi nhuận chưa phân phối",minorShareHolderProfit:"Lợi nhuận của cổ đông thiểu số",payable:"Phải trả"},ne={investCost:"Chi phí đầu tư",fromInvest:"Dòng tiền từ hoạt động đầu tư",fromFinancial:"Dòng tiền từ hoạt động tài chính",fromSale:"Dòng tiền từ hoạt động kinh doanh",freeCashFlow:"Dòng tiền tự do"},oe={class:"rounded-finsc overflow-hidden flex flex-col h-full w-full text-base bg-base-300"},se={class:"flex flex-none justify-between"},ae={class:"text-sm h-full flex items-center pr-6 -ml-6"},re={class:"flex gap-2 justify-around mt-6"},ie=["onClick"],le={key:0,class:"px-6 pb-6 flex-1 flex flex-col overflow-hidden"},ce={class:"flex-none"},he={class:"flex justify-between items-center"},ue={class:"flex flex-wrap gap-1"},de={class:"relative"},fe={class:"flex gap-2 text-center"},ge={class:"my-4 font-semibold"},pe={class:"flex-1 overflow-auto no-scrollbar"},ve={class:"flex flex-wrap gap-1"},be={class:"relative"},me={class:"flex gap-2 text-center"},Ne={__name:"BoxSlot",async setup(e){let t,n;const f={incomestatement:ee,balancesheet:te,cashflow:ne},d=_("incomestatement"),q=r=>{d.value=r},p=_(!0),D=r=>{p.value=r},H=J(),E=g(()=>H.symbol),I=g(()=>{var s;const r=((s=C.value)==null?void 0:s.data)||[];return Object.keys(r[0]).filter(a=>a!=="ticker"&&a!=="quarter"&&a!=="year")}),S=g(()=>{var a;const r={};return(((a=C.value)==null?void 0:a.data)||[]).forEach(u=>{r[u.year]||(r[u.year]={}),I.value.forEach(l=>{r[u.year][l]=u[l]||null})}),r}),Q=g(()=>{const r=new Set(w.value),s={};for(const a of r)S.value[a]&&(s[a]=S.value[a]);return s}),T=g(()=>{var s;const r=((s=C.value)==null?void 0:s.data)||[];return[...new Set(r.map(a=>a.year))].sort((a,u)=>u-a)}),v=_(0),b=_(4),w=g(()=>T.value.slice(v.value,b.value)),V=()=>{v.value>0&&(v.value-=4,b.value-=4)},$=()=>{b.value<T.value.length&&(v.value+=4,b.value+=4)},j=X({baseURL:G().API_FINSC}),{data:C,status:z}=([t,n]=Z(()=>U("finance",()=>j.get(`/scfa/${E.value}/${d.value}?yearly=${p.value}`),{watch:[E,d,p]})),t=await t,n(),t);return(r,s)=>{const a=R,u=O;return c(),h("div",oe,[o("div",se,[B(a,{scale:.5,pos:"tl"},{default:F(()=>s[2]||(s[2]=[o("div",{class:"mr-10 mb-8 text-xl rotate-[-32deg] font-semibold"},[o("div",{class:"animate-bounce"},"Tài chính")],-1)])),_:1}),o("div",ae,[o("div",re,[(c(!0),h(x,null,k(i(Y),(l,L)=>(c(),h("button",{key:L,onClick:P=>q(l.id),class:N(["rounded-full px-3 py-1 border border-transparent",i(d)===l.id?"bg-base-100":"border-base-neutral"])},m(l.name),11,ie))),128))])])]),i(z)==="success"?(c(),h("div",le,[o("div",ce,[o("div",he,[o("div",ue,[o("button",{class:N(["px-3 py-1 rounded-full",{"bg-base-primary":i(p)}]),onClick:s[0]||(s[0]=l=>D(!0))}," Hàng Năm ",2),o("button",{class:N(["px-3 py-1 rounded-full",{"bg-base-primary":!i(p)}]),onClick:s[1]||(s[1]=l=>D(!1))}," Hàng Quý ",2)]),o("div",de,[B(u,{onClick:V,disabled:i(v)===0,class:"absolute inset-y-0 -left-4",icon:"i-ri-arrow-left-s-line",size:"2xs",color:"gray",square:"",ui:{rounded:"rounded-full"}},null,8,["disabled"]),o("div",fe,[(c(!0),h(x,null,k(i(w),l=>(c(),h("div",{key:l,class:"font-semibold w-16"},m(l),1))),128))]),B(u,{onClick:$,disabled:i(b)>=i(T).length,class:"absolute inset-y-0 -right-4",icon:"i-ri-arrow-right-s-line",size:"2xs",color:"gray",square:"",ui:{rounded:"rounded-full"}},null,8,["disabled"])])]),o("div",ge,m(i(Y)[i(d)]),1)]),o("div",pe,[(c(!0),h(x,null,k(i(I),(l,L)=>(c(),h("div",{class:"flex justify-between items-center",key:L},[o("div",ve,m(f[i(d)][l]),1),o("div",be,[o("div",me,[(c(!0),h(x,null,k(i(w),P=>(c(),h("div",{class:"w-16 my-1",key:P},m(i(Q)[P][l]||"-"),1))),128))])])]))),128))])])):K("",!0)])}}};export{Ne as default};
