import{_ as $}from"./BAmsBZJ9.js";import{r as z,i as E,u as M,j as e,c as _,a as n,b as o,w as c,m as N,n as u,F as P,k as S,l as U,o as g,p as j,q as A,s as B}from"./Dw7e9vQt.js";import L from"./852UPlvE.js";import{u as Z,a as R,w as q,_ as D,b as F,i as I,m as O,c as T,d as G}from"./CURvVg9w.js";import"./DdlcJ5AR.js";import"./Bt8MpYHu.js";import"./DmipE0A1.js";import"./CXbzCM5O.js";import"./CnvLM5f7.js";import"./Dk21KoIT.js";import"./B1pzah4W.js";import"./BrAu9Jma.js";import"./B08LnwSc.js";import"./CxIZtCgj.js";import"./DF3kEfq4.js";import"./B_QQ5qjv.js";import"./vOcH1yEy.js";import"./BLhWR13V.js";import"./2xpBITlk.js";import"./BkLV4VMA.js";import"./mBlUX5cK.js";import"./rWpcIAI2.js";import"./34G0kqrt.js";import"./B62WhrVd.js";import"./qfgrkre2.js";import"./CB5-yZMB.js";import"./UfTuTcbi.js";const H={class:"relative"},J={class:"sidebar-item"},K={class:"grid-stack min-h-screen"},Q=["gs-x","gs-y","gs-w","gs-h","gs-id","id"],W={class:"grid-stack-item-content w-full flex items-stretch"},$e={__name:"custom",async setup(X){let m,h;const{isMounted:y}=Z(),i=R(),v=z("edgeLeft"),{data:t}=([m,h]=q(()=>F("pages",()=>$fetch(`/api/pages/${v.value}`))),m=await m,h(),m),b=l=>{const a=l.split("|");let d=3,p=2;if(a[2]){const r=a[2].split("x");d=r[0],p=r[1]}i.add({name:a[0],info:a[1],w:d,h:p})};return E(()=>{if(I(t.value)&&y.value){const{modules:l}=t.value,a=i.items.length>0?[]:O(l,!1);j(()=>{i.setup(a,"id")})}}),M({script:[{src:"/static/tv/charting_library/charting_library.standalone.js",rel:"preconnect",tagPosition:"bodyClose"},{src:"/static/tv/data/bundle.js",tagPosition:"bodyClose"}]}),(l,a)=>{const d=$,p=A,r=L,k=T,w=D,C=G,V=B;return e(t)&&e(t).theme?(g(),_("div",{key:0,class:u(["min-h-screen bg-base-100",{"h-screen flex flex-col":e(t).theme.type==="Side"||e(t).theme.type==="Edge"}])},[n("div",{id:"main-wrap",class:u({"flex-1 flex flex-row overflow-y-hidden":e(t).theme.type==="Side"||e(t).theme.type==="Edge","flex-row-reverse":e(t).theme.sideRight})},[o(w,N(e(t).theme,{items:e(t).menus}),{logo:c(()=>[o(d,{src:"/static/logo.png",class:"w-10 h-[2.2rem]"})]),action:c(()=>[o(k,{onOnAdd:b},{default:c(()=>[n("div",H,[n("div",J,[o(r,{popper:{placement:"right"},text:"Modules Chart"},{default:c(()=>[o(p,{name:"i-ri-layout-masonry-line",class:"text-2xl"})]),_:1})])])]),_:1})]),_:1},16,["items"]),n("main",{id:"main",class:u(["bg-base-100",[e(t).theme.type==="Side"||e(t).theme.type==="Edge"?"flex-1 overflow-y-auto":"",e(t).className]])},[n("div",K,[(g(!0),_(P,null,S(e(i).items,(s,f)=>(g(),_("div",{class:"grid-stack-item","gs-x":s.x,"gs-y":s.y,"gs-w":s.w,"gs-h":s.h,"gs-id":s.id,id:s.id,key:s.id},[n("div",W,[o(C,{modelValue:e(i).items[f],"onUpdate:modelValue":x=>e(i).items[f]=x},null,8,["modelValue","onUpdate:modelValue"]),o(r,{text:"Remove",class:"grid-stack-item-close z-10 absolute top-0.5 right-0.5 hidden"},{default:c(()=>[o(V,{onClick:x=>e(i).remove(s),icon:"i-ri-close-line",size:"2xs",color:"red",variant:"soft",square:"",ui:{rounded:"rounded-full"}},null,8,["onClick"])]),_:2},1024)])],8,Q))),128))])],2)],2)],2)):U("",!0)}}};export{$e as default};
